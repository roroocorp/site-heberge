<!DOCTYPE html>
<html lang="fr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Daily Life Ultra IA</title>

<style>
*{box-sizing:border-box;margin:0;padding:0;font-family:system-ui;}
body{min-height:100vh;background:linear-gradient(180deg,#064e3b,#042f2e);color:white;display:flex;flex-direction:column;}
header{display:flex;align-items:center;gap:12px;padding:14px 18px;background:rgba(0,0,0,.3);}
#time{margin-left:auto;background:rgba(0,0,0,.35);padding:6px 14px;border-radius:14px;font-size:13px;}
#topNav{display:flex;gap:12px;padding:14px;}
.navBox{flex:1;padding:18px 0;background:rgba(255,255,255,.25);border-radius:22px;text-align:center;font-weight:800;cursor:pointer;}
.navBox.active,.navBox:hover{background:rgba(255,255,255,.45);}
.page{display:none;flex-direction:column;padding:14px;}
.page.active{display:flex;}
.card{background:rgba(255,255,255,.2);border-radius:22px;padding:20px;margin-bottom:16px;}
input,select,button{width:100%;padding:14px;border-radius:16px;border:none;font-size:15px;}
button{background:#38bdf8;font-weight:700;margin-top:10px;cursor:pointer;}
#chatContainer{height:55vh;overflow-y:auto;background:rgba(255,255,255,.15);border-radius:20px;padding:10px;}
.message{max-width:75%;padding:10px 14px;border-radius:18px;margin:6px 0;white-space:pre-line;}
.userMsg{background:#38bdf8;color:black;margin-left:auto;}
.iaMsg{background:#22c55e;color:black;}
img.food{width:100%;border-radius:14px;margin-top:6px;}
#iaInputArea{display:flex;gap:8px;margin-top:10px;}
.sendBtn{width:50px;height:50px;border-radius:50%;font-size:20px;}
.toggle{display:flex;align-items:center;gap:10px;}
footer{margin-top:auto;padding:8px 14px;font-size:12px;text-align:right;opacity:.7;}
</style>
</head>

<body>

<header>
<h3>Daily Life Ultra IA</h3>
<div id="time"></div>
</header>

<div id="topNav">
<div class="navBox active" onclick="showPage('home',this)">Accueil</div>
<div class="navBox" onclick="showPage('ia',this)">IA</div>
</div>

<div id="home" class="page active">
<div class="card">
<h3>üë∂ Mode enfant</h3>
<div class="toggle">
<input type="checkbox" id="kidMode">
<label>Activer</label>
</div>
</div>
</div>

<div id="ia" class="page">
<div id="chatContainer"></div>
<div id="iaInputArea">
<input id="iaInput" placeholder="Parle ou √©cris (ex: p√¢tes)">
<button class="sendBtn" onclick="askIA()">‚¨ÜÔ∏è</button>
<button class="sendBtn" onclick="startVoice()">üé§</button>
</div>
</div>

<footer>¬© 2026 Daily Life Ultra IA ‚ö°</footer>

<script>
setInterval(()=>time.textContent=new Date().toLocaleTimeString(),1000);
function showPage(id,el){
document.querySelectorAll('.page').forEach(p=>p.classList.remove('active'));
document.getElementById(id).classList.add('active');
document.querySelectorAll('.navBox').forEach(b=>b.classList.remove('active'));
el.classList.add('active');
}

let chatHistory=JSON.parse(localStorage.getItem("chatHistory")||"[]");
let kidMode=false;
document.getElementById("kidMode").onchange=e=>kidMode=e.target.checked;

function speak(t){
let u=new SpeechSynthesisUtterance(t);
u.lang="fr-FR";
speechSynthesis.speak(u);
}

function renderChat(){
chatContainer.innerHTML="";
chatHistory.forEach(m=>chatContainer.innerHTML+=m);
chatContainer.scrollTop=chatContainer.scrollHeight;
}

function recipe(name,origin,time,steps,img){
return `
<div class="message iaMsg">
<b>${name}</b><br>üåç Origine : ${origin}<br>‚è±Ô∏è ${time}<br>
${steps}<br>
<img class="food" src="${img}">
</div>`;
}

function askIA(){
let q=iaInput.value.toLowerCase();
chatHistory.push(`<div class="message userMsg">${q}</div>`);
let r="ü§ñ Je ne connais pas encore ce plat.";

if(q.includes("p√¢tes")){
r=recipe(
"üçù P√¢tes",
"Italie üáÆüáπ",
"15 minutes",
kidMode?"1Ô∏è‚É£ Eau chaude\n2Ô∏è‚É£ P√¢tes\n3Ô∏è‚É£ Manger üòã":"1Ô∏è‚É£ Faire bouillir l‚Äôeau\n2Ô∏è‚É£ Cuire 10 min\n3Ô∏è‚É£ √âgoutter",
"https://images.unsplash.com/photo-1525755662778-989d0524087e"
);
}

chatHistory.push(r);
localStorage.setItem("chatHistory",JSON.stringify(chatHistory));
renderChat();
speak(kidMode?"Voil√† üòÑ":"Voici la recette.");
iaInput.value="";
}

renderChat();

// üéôÔ∏è VOICE
function startVoice(){
if(!('webkitSpeechRecognition'in window)){alert("Non support√©");return;}
let r=new webkitSpeechRecognition();
r.lang="fr-FR";
r.onresult=e=>{
iaInput.value=e.results[0][0].transcript;
askIA();
}
r.start();
}
</script>
</body>
</html>

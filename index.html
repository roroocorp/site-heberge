<!DOCTYPE html>
<html lang="fr">
<head>
<meta charset="UTF-8">
<title>Daily Life Dashboard</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<style>
:root{--bg:#f4f6f8;--card:#fff;--text:#111;--primary:#2563eb}
body.red{--bg:#7f1d1d;--card:#991b1b;--text:#fff;--primary:#ef4444}
body.blue{--bg:#0f172a;--card:#1e293b;--text:#e0f2fe;--primary:#3b82f6}
body.green{--bg:#052e16;--card:#064e3b;--text:#ecfdf5;--primary:#22c55e}
body{margin:0;font-family:Arial;background:var(--bg);color:var(--text);overflow-x:hidden;position:relative}

/* Header */
header{background:var(--primary);color:#fff;padding:15px;text-align:center;margin-bottom:10px;border-radius:0 0 15px 15px;}

/* Container principal */
main{max-width:600px;margin:10px auto;padding:10px;display:flex;flex-direction:column;gap:15px;}

/* Cartes */
.card{background:var(--card);padding:15px;border-radius:12px;box-shadow:0 4px 10px rgba(0,0,0,.2);width:100%;box-sizing:border-box;}

/* Inputs et boutons */
input,textarea,button,select{width:100%;padding:8px;margin-top:6px;border-radius:6px;border:1px solid #ccc;box-sizing:border-box}
button{background:var(--primary);color:#fff;cursor:pointer;border:none}

/* Liste To-Do */
ul{list-style:none;padding:0;margin:0}
li{cursor:pointer;margin-top:5px;transition:.3s;padding:4px 0}
li.done{text-decoration:line-through;opacity:.6}

/* Badges */
.badge{display:inline-block;margin:5px;padding:5px 10px;border-radius:8px;background:gold;color:#000;animation:pop 0.5s;cursor:pointer}
@keyframes pop{0%{transform:scale(0)}50%{transform:scale(1.2)}100%{transform:scale(1)}}

/* Points et output IA */
#points{transition:transform 0.3s}
#aiOutput{white-space:pre-line;font-weight:bold}

/* Graphique responsive */
canvas{width:100% !important;height:150px !important;border-radius:10px}

/* Espacement g√©n√©ral */
h2{margin-top:0;margin-bottom:8px;}
p, label{margin:4px 0;}

/* Confettis */
.confetti{position:absolute;width:10px;height:10px;background:red;top:0;left:50%;pointer-events:none;animation:fall 3s linear forwards;}
@keyframes fall{
  0%{transform:translateY(0) rotate(0deg);}
  100%{transform:translateY(600px) rotate(360deg);opacity:0;}
}
</style>
</head>
<body>
<header>
<h1 id="title">üöÄ Daily Life Dashboard</h1>
<p id="subtitle">IA + Graphique + Badges anim√©s</p>
</header>

<main>
<div class="card">
<h2 id="themeLabel">üé® Th√®me</h2>
<select id="theme">
<option value="">Clair</option>
<option value="red">Rouge</option>
<option value="blue">Bleu</option>
<option value="green">Vert</option>
</select>
<h2 id="langLabel">üåç Langue</h2>
<select id="lang">
<option value="fr">Fran√ßais</option>
<option value="en">English</option>
</select>
</div>

<div class="card">
<h2 id="statsTitle">üìä Stats</h2>
<p>üèÜ <span id="pointsLabel">Points</span> : <span id="points">0</span></p>
<p>üéÆ <span id="levelLabel">Niveau</span> : <span id="level">1</span></p>
<p>üèÖ <span id="badgeLabel">Badge</span> : <span id="badge">Aucun</span></p>
<div id="badges"></div>
</div>

<div class="card">
<h2 id="todoTitle">‚úÖ To-Do</h2>
<input id="todoInput" placeholder="√âcris une t√¢che puis clique Ajouter">
<button id="addBtn">Ajouter</button>
<ul id="list"></ul>
</div>

<div class="card">
<h2 id="aiTitle">ü§ñ IA Conseiller</h2>
<textarea id="aiInput" placeholder="√âcris ton message ici"></textarea>
<button id="aiBtn">Demander conseil</button>
<p id="aiOutput"></p>
</div>

<div class="card">
<h2 id="chartTitle">üìä Graphique de productivit√©</h2>
<canvas id="chart"></canvas>
</div>

<div class="card">
<h2 id="notifTitle">üîî Notification</h2>
<input type="time" id="notifTime">
<button id="notifBtn">Activer rappel</button>
</div>
</main>

<script>
// ===== LANGUE =====
let lang=localStorage.getItem('lang')||'fr';
document.getElementById('lang').value=lang;
const texts = {
  fr: {title:'üöÄ Daily Life Dashboard', subtitle:'IA + Graphique + Badges anim√©s', theme:'üé® Th√®me', lang:'üåç Langue', stats:'üìä Stats', points:'Points', level:'Niveau', badge:'Badge', todo:'‚úÖ To-Do', add:'Ajouter', ai:'ü§ñ IA Conseiller', chart:'üìä Graphique de productivit√©', notif:'üîî Notification', notifMsg:'Il est temps de travailler sur tes t√¢ches', notifActivated:'Rappel activ√© √† '},
  en: {title:'üöÄ Daily Life Dashboard', subtitle:'AI + Chart + Animated Badges', theme:'üé® Theme', lang:'üåç Language', stats:'üìä Stats', points:'Points', level:'Level', badge:'Badge', todo:'‚úÖ To-Do', add:'Add', ai:'ü§ñ AI Advisor', chart:'üìä Productivity Chart', notif:'üîî Notification', notifMsg:'Time to work on your tasks', notifActivated:'Reminder set for '}
};
function setLanguage(l){
  const t=texts[l];
  document.getElementById('title').textContent=t.title;
  document.getElementById('subtitle').textContent=t.subtitle;
  document.getElementById('themeLabel').textContent=t.theme;
  document.getElementById('langLabel').textContent=t.lang;
  document.getElementById('statsTitle').textContent=t.stats;
  document.getElementById('pointsLabel').textContent=t.points;
  document.getElementById('levelLabel').textContent=t.level;
  document.getElementById('badgeLabel').textContent=t.badge;
  document.getElementById('todoTitle').textContent=t.todo;
  document.getElementById('addBtn').textContent=t.add;
  document.getElementById('aiTitle').textContent=t.ai;
  document.getElementById('chartTitle').textContent=t.chart;
  document.getElementById('notifTitle').textContent=t.notif;
}
setLanguage(lang);
document.getElementById('lang').addEventListener('change',(e)=>{lang=e.target.value; localStorage.setItem('lang',lang); setLanguage(lang);});

// ===== THEME =====
const themeSel=document.getElementById('theme');
const savedTheme=localStorage.getItem('theme');
if(savedTheme){document.body.classList.add(savedTheme);themeSel.value=savedTheme}
themeSel.addEventListener('change',()=>{document.body.className=''; if(themeSel.value)document.body.classList.add(themeSel.value); localStorage.setItem('theme',themeSel.value);});

// ===== DATA =====
let todos=JSON.parse(localStorage.getItem('todos')||'[]');
let points=parseInt(localStorage.getItem('points')||'0');
let level=parseInt(localStorage.getItem('level')||'1');
let badge=localStorage.getItem('badge')||'Aucun';
let history=JSON.parse(localStorage.getItem('history')||'[]');

const list=document.getElementById('list');
const pointsEl=document.getElementById('points');
const levelEl=document.getElementById('level');
const badgeEl=document.getElementById('badge');
const badgesDiv=document.getElementById('badges');

function saveAll(){localStorage.setItem('todos',JSON.stringify(todos)); localStorage.setItem('points',points); localStorage.setItem('level',level); localStorage.setItem('badge',badge); localStorage.setItem('history',JSON.stringify(history)); pointsEl.textContent=points; levelEl.textContent=level; badgeEl.textContent=badge; renderBadges(); drawChart();}

// ===== CONFETTIS =====
function spawnConfetti(){
  for(let i=0;i<30;i++){
    const c=document.createElement('div');
    c.classList.add('confetti');
    c.style.left=Math.random()*window.innerWidth+'px';
    c.style.background=['#ff0','#f00','#0f0','#0ff','#f0f','#ffa500'][Math.floor(Math.random()*6)];
    c.style.width=c.style.height=5+Math.random()*5+'px';
    document.body.appendChild(c);
    setTimeout(()=>c.remove(),3000);
  }
}

// ===== BADGES =====
function renderBadges(){
  badgesDiv.innerHTML='';
  if(points>=50) {badgesDiv.innerHTML+='<span class="badge">üéØ 50 points</span>'; spawnConfetti();}
  if(points>=100) {badgesDiv.innerHTML+='<span class="badge">üí™ 100 points</span>'; spawnConfetti();}
  if(level>=3) {badgesDiv.innerHTML+='<span class="badge">üèÖ Niveau 3</span>'; spawnConfetti();}
}

// ===== TODO =====
function renderTodos(){list.innerHTML=''; todos.forEach((t,i)=>{const li=document.createElement('li'); li.textContent=t.text; if(t.done) li.classList.add('done'); li.onclick=()=>toggleTodo(i); list.appendChild(li);}); saveAll();}
function addTodo(){const input=document.getElementById('todoInput'); if(input.value.trim()==='')return; todos.push({text:input.value,done:false}); input.value=''; renderTodos();}
function toggleTodo(i){if(!todos[i].done){points+=10; history.push(points); if(points%50===0){level++;badge='üî• Motiv√©'; spawnConfetti();} pointsEl.style.transform='scale(1.3)'; setTimeout(()=>pointsEl.style.transform='scale(1)',300);} todos[i].done=!todos[i].done; renderTodos();}
document.getElementById('addBtn').onclick=addTodo; renderTodos();

// ===== IA =====
function runAI(){const text=document.getElementById('aiInput').value.trim().toLowerCase(); let responses=[]; if(text==='') responses=['√âcris quelque chose pour que je puisse t‚Äôaider.']; else if(text.includes('fatigu') || text.includes('√©puis√©')) responses=['Prends une pause','Respire 5 minutes','√âcoute de la musique']; else if(text.includes('stress') || text.includes('angoiss√©')) responses=['Fais une marche','Bois de l‚Äôeau','Respire calmement']; else if(text.includes('procrast')) responses=['Commence par une petite t√¢che','D√©coupe ton objectif','Supprime les distractions']; else if(text.includes('cava') || text.includes('√ßa va')) responses=['Content de l‚Äôentendre !','Super, continue !','Garde le rythme !']; else responses=['Reste concentr√©','Planifie tes t√¢ches','N‚Äôoublie pas de prendre des pauses','Sois fier de toi']; document.getElementById('aiOutput').textContent='‚Ä¢ '+responses.join('\n‚Ä¢ '); document.getElementById('aiInput').value='';}
document.getElementById('aiBtn').addEventListener('click',runAI);

// ===== NOTIFICATION =====
function setNotif(){if(!('Notification' in window)) return alert('Notifications non support√©es'); const time=document.getElementById('notifTime').value; if(!time) return alert(texts[lang].notifActivated); Notification.requestPermission().then(p=>{if(p==='granted'){setInterval(()=>{const now=new Date(); const cur=now.getHours().toString().padStart(2,'0')+':'+now.getMinutes().toString().padStart(2,'0'); if(cur===time){new Notification(texts[lang].notifMsg);}},60000); alert(texts[lang].notifActivated+time);}});}
document.getElementById('notifBtn').addEventListener('click',setNotif);

// ===== GRAPH =====
function drawChart(){const c=document.getElementById('chart'); const ctx=c.getContext('2d'); ctx.clearRect(0,0,c.width,c.height); if(history.length===0) return; const max=Math.max(...history); const margin=20; const w=(c.width-margin*2)/7; const hScale=(c.height-margin*2)/max; for(let i=0;i<history.length;i++){ctx.fillStyle='#3b82f6'; const barHeight=history[i]*hScale; ctx.fillRect(margin+i*w, c.height-margin-barHeight, w*0.6, barHeight); ctx.fillStyle='#000'; ctx.fillText(history[i], margin+i*w+5, c.height-margin-barHeight-5);}}
drawChart();
</script>
</body>
  </html>

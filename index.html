<!DOCTYPE html>
<html lang="fr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Daily Life IA Ultra</title>
<style>
  body {
    font-family: Arial, sans-serif;
    margin: 0;
    padding: 0;
    background: #4b0082;
    color: white;
  }
  .header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    background: #800080;
    padding: 1rem;
  }
  .menu-toggle {
    font-size: 2rem;
    cursor: pointer;
  }
  .container {
    padding: 1rem;
  }
  select, input, button {
    padding: 0.5rem;
    font-size: 1rem;
    border-radius: 0.5rem;
    border: none;
    margin-top: 0.5rem;
    width: 100%;
  }
  .section {
    margin-bottom: 1rem;
    background: rgba(255,255,255,0.1);
    padding: 1rem;
    border-radius: 0.5rem;
  }
  .tasks li {
    display: flex;
    justify-content: space-between;
    margin-top: 0.5rem;
  }
  .tasks button {
    background: transparent;
    border: none;
    cursor: pointer;
    color: white;
    font-size: 1.2rem;
  }
  .chat-container {
    display: none;
    flex-direction: column;
    height: 70vh;
  }
  .chat-box {
    flex: 1;
    overflow-y: auto;
    padding: 1rem;
    background: #111;
    border-radius: 0.5rem;
  }
  .chat-input {
    display: flex;
    margin-top: 0.5rem;
  }
  .chat-input input {
    flex: 1;
    border-radius: 0.5rem 0 0 0.5rem;
  }
  .chat-input button {
    border-radius: 0 0.5rem 0.5rem 0;
    background: black;
    color: white;
  }
  .sidebar {
    position: fixed;
    left: -250px;
    top: 0;
    width: 250px;
    height: 100%;
    background: #111;
    padding: 1rem;
    transition: 0.3s;
    z-index: 10;
  }
  .sidebar.open {
    left: 0;
  }
  .sidebar ul {
    list-style: none;
    padding: 0;
  }
  .sidebar ul li {
    margin: 1rem 0;
    cursor: pointer;
  }
  .score {
    margin-top: 2rem;
    text-align: center;
  }
</style>
</head>
<body>

<div class="header">
  <h1 id="app-title">Daily Life IA Ultra</h1>
  <div class="menu-toggle" onclick="toggleSidebar()">‚ò∞</div>
</div>

<div class="sidebar" id="sidebar">
  <h3>Historique</h3>
  <ul>
    <li onclick="newConversation()">Nouvelle conversation</li>
    <li onclick="showHome()">Accueil</li>
  </ul>
</div>

<div class="container" id="home">

  <div class="section">
    üåê <strong>Langue</strong>
    <select id="lang-select" onchange="saveLang()">
      <option value="fr">Fran√ßais</option>
      <option value="en">English</option>
    </select>
  </div>

  <div class="section">
    üé® <strong>Th√®me</strong>
    <select id="theme-select" onchange="saveTheme()">
      <option value="Vert">Vert</option>
      <option value="Rose">Rose</option>
      <option value="Orange">Orange</option>
      <option value="Bleu">Bleu</option>
    </select>
  </div>

  <div class="section" id="stats-section">
    üìä <strong>Stats</strong>
    <div id="score-display">Points : 0 | Niveau : 1</div>
  </div>

  <div class="section">
    ‚úÖ <strong>T√¢ches</strong>
    <ul class="tasks" id="tasks-list"></ul>
    <input type="text" id="task-input" placeholder="Nouvelle t√¢che">
    <button onclick="addTask()">Ajouter</button>
  </div>

</div>

<div class="container chat-container" id="chat-container">
  <h2>Chat IA</h2>
  <div class="chat-box" id="chat-box"></div>
  <div class="chat-input">
    <input type="text" id="chat-input" placeholder="√âcris un message...">
    <button onclick="sendMessage()">‚û§</button>
  </div>
</div>

<script>
  // Sidebar
  function toggleSidebar() {
    document.getElementById('sidebar').classList.toggle('open');
  }

  // Home/Chat switch
  function showHome() {
    document.getElementById('home').style.display = 'block';
    document.getElementById('chat-container').style.display = 'none';
  }

  function newConversation() {
    document.getElementById('home').style.display = 'none';
    document.getElementById('chat-container').style.display = 'flex';
    document.getElementById('chat-box').innerHTML = ''; // Nouveau chat
  }

  // Langue
  function saveLang() {
    const lang = document.getElementById('lang-select').value;
    localStorage.setItem('lang', lang);
  }

  function loadLang() {
    const lang = localStorage.getItem('lang');
    if(lang) document.getElementById('lang-select').value = lang;
  }

  // Th√®me
  function saveTheme() {
    const theme = document.getElementById('theme-select').value;
    localStorage.setItem('theme', theme);
  }

  function loadTheme() {
    const theme = localStorage.getItem('theme');
    if(theme) document.getElementById('theme-select').value = theme;
  }

  // Score
  function updateScore(points, level) {
    document.getElementById('score-display').textContent = `Points : ${points} | Niveau : ${level}`;
  }

  // T√¢ches
  let tasks = JSON.parse(localStorage.getItem('tasks') || '[]');

  function saveTasks() {
    localStorage.setItem('tasks', JSON.stringify(tasks));
  }

  function renderTasks() {
    const tasksList = document.getElementById('tasks-list');
    tasksList.innerHTML = '';
    tasks.forEach((task, i) => {
      const li = document.createElement('li');
      li.textContent = task;
      const del = document.createElement('button');
      del.textContent = 'üóë';
      del.onclick = () => { tasks.splice(i,1); saveTasks(); renderTasks(); };
      li.appendChild(del);
      tasksList.appendChild(li);
    });
  }

  function addTask() {
    const input = document.getElementById('task-input');
    if(input.value.trim() !== '') {
      tasks.push(input.value.trim());
      input.value = '';
      saveTasks();
      renderTasks();
    }
  }

  // Chat IA local simple
  function sendMessage() {
    const input = document.getElementById('chat-input');
    const box = document.getElementById('chat-box');
    if(input.value.trim() === '') return;
    const userMsg = document.createElement('div');
    userMsg.textContent = input.value;
    userMsg.style.color = 'cyan';
    box.appendChild(userMsg);

    // R√©ponse IA locale
    const botMsg = document.createElement('div');
    botMsg.textContent = getLocalAIResponse(input.value);
    botMsg.style.color = 'lightgreen';
    box.appendChild(botMsg);
    box.scrollTop = box.scrollHeight;
    input.value = '';
  }

  function getLocalAIResponse(msg) {
    // R√©ponses simples pour d√©mo
    msg = msg.toLowerCase();
    if(msg.includes('carbonara')) return "Voici une recette simple de carbonara : p√¢tes, oeufs, pancetta, parmesan.";
    if(msg.includes('bonjour')) return "Bonjour ! Comment puis-je vous aider ?";
    return "Je suis l√† pour t‚Äôaider üòä";
  }

  // Initialisation
  loadLang();
  loadTheme();
  renderTasks();
  updateScore(0,1);
</script>

</body>
  </html>

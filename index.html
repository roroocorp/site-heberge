<!DOCTYPE html>
<html lang="fr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Daily Life IA Ultra</title>
<style>
*{margin:0;padding:0;box-sizing:border-box;font-family:system-ui}
html,body{width:100%;overflow-x:hidden;height:100%;}
body{transition:0.3s;color:#fff;padding:10px}
.container{max-width:420px;margin:auto;}

/* THEMES */
body.green{background:linear-gradient(180deg,#064e3b,#042f2e)}
body.red{background:linear-gradient(180deg,#7f1d1d,#450a0a)}
body.blue{background:linear-gradient(180deg,#1e3a8a,#020617)}
body.rose{background:linear-gradient(180deg,#9d174d,#4a044e)}
body.violet{background:linear-gradient(180deg,#5b21b6,#2e1065)}
body.orange{background:linear-gradient(180deg,#f97316,#c2410c)}

header{display:flex;justify-content:space-between;align-items:center;margin-bottom:14px;padding-top:6px;position:relative}
header h1{font-size:20px}
.menu-btn{font-size:24px;cursor:pointer;user-select:none}

/* CARD */
.card{background:rgba(255,255,255,.12);backdrop-filter:blur(14px);border-radius:18px;padding:14px;margin-bottom:12px}
input,select,button{width:100%;padding:10px;border:none;border-radius:12px;margin-top:6px}
input,select{background:rgba(255,255,255,.9)}
button{background:rgba(255,255,255,.2);color:#fff;font-weight:bold;cursor:pointer}
ul{list-style:none;margin-top:6px;max-height:200px;overflow-y:auto}
li{background:rgba(255,255,255,.15);padding:8px;border-radius:10px;margin-top:6px;user-select:none}
li.done{text-decoration:line-through;opacity:.6}

/* SIDEBAR */
#sidebar{position:fixed;top:0;left:-100%;width:75%;max-width:280px;height:100%;background:#0f172a;padding:15px;transition:.3s;z-index:10}
#sidebar.active{left:0}
#sidebar h3{margin-bottom:10px}
.item{display:flex;justify-content:space-between;align-items:center;padding:8px;border-bottom:1px solid #334;cursor:pointer}
.del{opacity:.6;font-size:14px}

/* CHAT */
#chat{display:none;position:fixed;top:0;left:0;width:100%;height:100%;background:#020617;z-index:9;flex-direction:column}
#messages{flex:1;overflow-y:auto;padding:10px;min-height:100px;max-height:calc(100% - 70px)}
.msg{margin-bottom:6px}
.user{color:#38bdf8}
.ai{color:#a7f3d0}

/* CHAT INPUT */
#chatInputContainer{display:flex;gap:6px;padding:6px;background:rgba(0,0,0,0.1);border-radius:50px;align-items:center}
#chatInput{flex:1;padding:10px;border-radius:50px;border:none;background:#fff;}
#chatSend{padding:10px;border-radius:50%;background:#000;color:#fff;font-weight:bold;cursor:pointer;font-size:20px;display:flex;align-items:center;justify-content:center;}
#scoreBox{position:fixed;bottom:10px;left:10px;background:rgba(0,0,0,0.3);padding:10px 14px;border-radius:12px;font-weight:bold;}

/* TIME */
#clock{position:fixed;bottom:10px;right:10px;background:rgba(0,0,0,0.3);padding:10px 14px;border-radius:12px;font-weight:bold;}

</style>
</head>
<body class="green">

<!-- SIDEBAR -->
<div id="sidebar">
<h3>üìú Historique</h3>
<div class="item" onclick="newConversation()">‚ûï Nouvelle conversation</div>
<div id="convList"></div>
<div class="item" onclick="goHome()">üè† Accueil</div>
</div>

<!-- CHAT -->
<div id="chat">
<header>
<h1 id="chatTitle">Conversation</h1>
<span class="menu-btn" onclick="toggleMenu()">‚ò∞</span>
</header>
<div id="messages"></div>
<div id="chatInputContainer">
<input id="chatInput" placeholder="√âcris un message..." onkeydown="if(event.key==='Enter'){sendMsg();event.preventDefault()}">
<button id="chatSend">‚û§</button>
</div>
</div>

<!-- MAIN -->
<div class="container" id="main">
<header>
<h1>Daily Life Ultra IA</h1>
<span class="menu-btn" onclick="toggleMenu()">‚ò∞</span>
</header>

<div class="card">
<h3>üåç Langue</h3>
<select onchange="changeLang(this.value)">
<option value="fr">Fran√ßais</option>
<option value="en">English</option>
<option value="es">Espa√±ol</option>
<option value="de">Deutsch</option>
</select>
</div>

<div class="card">
<h3>üé® Th√®me</h3>
<select onchange="changeTheme(this.value)">
<option value="green">Vert</option>
<option value="red">Rouge</option>
<option value="blue">Bleu</option>
<option value="rose">Rose</option>
<option value="violet">Violet</option>
<option value="orange">Orange</option>
</select>
</div>

<div class="card">
<h3>‚úÖ T√¢ches</h3>
<input id="taskInput" placeholder="Nouvelle t√¢che">
<button onclick="addTask()">Ajouter</button>
<ul id="tasks"></ul>
</div>

<div class="card">
<h3>‚è∞ Rappel</h3>
<input type="time" id="alarm">
<button onclick="setAlarm()">Activer</button>
</div>
</div>

<div id="scoreBox">Points: <span id="points">0</span> | Niveau: <span id="level">1</span></div>
<div id="clock"></div>

<script>
/* ===== GLOBAL ===== */
let lang=localStorage.lang||"fr"
let conversations=JSON.parse(localStorage.conversations||"[]")
let currentConv=null
let tasks=JSON.parse(localStorage.tasks||"[]")
let points=Number(localStorage.points||0)

/* ===== SAVE ===== */
function saveAll(){
localStorage.conversations=JSON.stringify(conversations)
localStorage.tasks=JSON.stringify(tasks)
localStorage.points=points
localStorage.lang=lang
renderAll()
}

/* ===== CLOCK ===== */
function updateClock(){let d=new Date();let h=d.getHours(),m=d.getMinutes();if(m<10)m='0'+m;clock.textContent=`${h}:${m}`}
setInterval(updateClock,1000)
updateClock()

/* ===== RENDER ===== */
function renderAll(){
document.getElementById("points").textContent=points
document.getElementById("level").textContent=Math.floor(points/50)+1
renderTasks()
renderConvList()
}

/* ===== MENU SIDEBAR ===== */
function toggleMenu(){sidebar.classList.toggle("active")}
function goHome(){chat.style.display="none";main.style.display="block";sidebar.classList.remove("active")}

/* ===== CONVERSATIONS ===== */
function newConversation(){
  const id = Date.now();
  conversations.unshift({id, title:`Conversation ${conversations.length+1}`, msgs:[]});
  currentConv = id;
  saveAll();
  openChat(); // Affiche le chat imm√©diatement
}

function renderConvList(){
convList.innerHTML=""
conversations.forEach((c,i)=>{
c.title=`Conversation ${conversations.length-i}`
let d=document.createElement("div")
d.className="item"
d.innerHTML=`<span>${c.title}</span><span class="del">üóëÔ∏è</span>`
d.onclick=(e)=>{
if(e.target.classList.contains("del")){
conversations=conversations.filter(x=>x.id!==c.id)
if(currentConv===c.id) goHome()
saveAll()
}else{currentConv=c.id;openChat()}
}
convList.appendChild(d)
})
}

function openChat(){
if(currentConv===null) return;
const c = conversations.find(x => x.id === currentConv);
if(!c) return;
chat.style.display="flex";
main.style.display="none";
sidebar.classList.remove("active");
renderMessages();
chatInput.focus(); 
}

/* ===== CHAT ===== */
function renderMessages(){
messages.innerHTML=""
const c=conversations.find(x=>x.id===currentConv)
if(!c)return
chatTitle.textContent=c.title
c.msgs.forEach(m=>{
messages.innerHTML+=`<div class="msg ${m.w}">${m.w==="user"?"üë§":"ü§ñ"} ${m.t}</div>`
})
messages.scrollTop=messages.scrollHeight
}

function sendMsg(){
const t=chatInput.value.trim()
if(!t||currentConv===null)return
const c=conversations.find(x=>x.id===currentConv)
c.msgs.push({w:"user",t})
chatInput.value=""
setTimeout(()=>{
c.msgs.push({w:"ai",t:smartAI(t)})
saveAll()
renderMessages()
},300)
saveAll()
}

/* ===== IA LOCALE HYPER INTELLIGENTE ===== */
const recipes=[
"Spaghetti Carbonara: Ingr√©dients: p√¢tes, ≈ìufs, pancetta, parmesan, poivre. Instructions: Faites cuire les p√¢tes, faites revenir la pancetta, m√©langez avec les ≈ìufs et le parmesan, poivrez.",
"Poulet Curry: Ingr√©dients: poulet, curry, lait de coco, oignon, ail. Instructions: Faites revenir le poulet et les oignons, ajoutez le curry et le lait de coco, laissez mijoter.",
"Salade C√©sar: Ingr√©dients: laitue, poulet, cro√ªtons, parmesan, sauce C√©sar. Instructions: M√©langez tous les ingr√©dients et servez frais.",
"Pizza Margherita: Ingr√©dients: p√¢te √† pizza, tomate, mozzarella, basilic. Instructions: √âtalez la p√¢te, ajoutez tomate et mozzarella, cuisez au four, garnissez de basilic."
// Tu peux rajouter des centaines de recettes ici
];

function smartAI(text){
text=text.toLowerCase()
if(text.includes("recette")||text.includes("menu")||text.includes("carbo")){
return recipes[Math.floor(Math.random()*recipes.length)]
}
if(text.includes("liste de courses")){
return "Pour tes repas, prends: p√¢tes, poulet, tomates, laitue, fromage, ≈ìufs, riz, √©pices."
}
if(text.includes("salut")){
switch(lang){
case "en": return "Hello! How are you?"
case "es": return "¬°Hola! ¬øC√≥mo est√°s?"
case "de": return "Hallo! Wie geht's?"
default: return "Salut ! √áa va ?"
}
}
if(text.includes("√ßa va")||text.includes("ca va")){
switch(lang){
case "en": return "I'm good, thanks! How about you?"
case "es": return "¬°Estoy bien, gracias! ¬øY t√∫?"
case "de": return "Mir geht's gut, danke! Und dir?"
default: return "√áa va tr√®s bien, merci ! Et toi ?"
}
}
return "Je suis l√† pour t‚Äôaider ! Pose-moi une question ou demande une recette."
}

/* ===== TASKS ===== */
function addTask(){
if(taskInput.value){tasks.push({t:taskInput.value,d:false});taskInput.value="";points+=5;saveAll()}
}
function renderTasks(){
tasksEl.innerHTML=""
tasks.forEach((t)=>{
let li=document.createElement("li")
li.textContent=t.t
if(t.d)li.classList.add("done")
li.onclick=()=>{t.d=!t.d;points+=5;saveAll()}
tasksEl.appendChild(li)
})
}

/* ===== THEME & LANG ===== */
function changeTheme(t){document.body.className=t;saveAll()}
function changeLang(l){lang=l;saveAll()}

/* ===== ALARM ===== */
function setAlarm(){
Notification.requestPermission()
const time=alarm.value
setInterval(()=>{
const now=new Date().toTimeString().slice(0,5)
if(now===time) new Notification("‚è∞ Rappel !")
},30000)
}

/* ===== RENDER INIT ===== */
renderAll()
</script>
</body>
  </html>

<!DOCTYPE html>
<html lang="fr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Daily Life IA Ultra</title>

<style>
*{margin:0;padding:0;box-sizing:border-box;font-family:system-ui}
html,body{width:100%;overflow-x:hidden}
body{min-height:100vh;color:#fff;padding:10px}
.container{max-width:420px;margin:auto}

body.green{background:linear-gradient(180deg,#064e3b,#042f2e)}
body.red{background:linear-gradient(180deg,#7f1d1d,#450a0a)}
body.blue{background:linear-gradient(180deg,#1e3a8a,#020617)}
body.rose{background:linear-gradient(180deg,#9d174d,#4a044e)}
body.violet{background:linear-gradient(180deg,#5b21b6,#2e1065)}
body.orange{background:linear-gradient(180deg,#f97316,#9a3412)}

header{display:flex;justify-content:space-between;align-items:center;margin-bottom:12px}
.menu-btn{font-size:22px;cursor:pointer}

.card{
background:rgba(255,255,255,.12);
backdrop-filter:blur(14px);
border-radius:18px;
padding:14px;
margin-bottom:12px
}

input,select,button{
width:100%;
padding:10px;
border:none;
border-radius:12px;
margin-top:6px
}
input,select{background:#fff;color:#000}
button{background:rgba(255,255,255,.25);color:#fff;font-weight:bold}

ul{list-style:none;margin-top:6px}
li{
background:rgba(255,255,255,.18);
padding:8px;
border-radius:10px;
margin-top:6px;
cursor:pointer
}
li.done{text-decoration:line-through;opacity:.6}

/* CHAT */
#chat{
display:none;
position:fixed;
top:0;left:0;
width:100%;height:100%;
background:#020617;
z-index:10;
flex-direction:column
}
#messages{
flex:1;
overflow-y:auto;
padding:10px
}
.msg{margin-bottom:8px}
.user{color:#38bdf8}
.ai{color:#a7f3d0}

#chatInputBox{
display:flex;
gap:6px;
padding:10px
}
#chatInput{flex:1}
</style>
</head>

<body class="green">

<div class="container" id="main">

<header>
<h2>Daily Life IA Ultra</h2>
<span class="menu-btn" onclick="openChat()">‚ò∞</span>
</header>

<div class="card">
<h3>üåç Langue</h3>
<select onchange="changeLang(this.value)">
<option value="fr">Fran√ßais</option>
<option value="en">English</option>
<option value="de">Deutsch</option>
</select>
</div>

<div class="card">
<h3>üé® Th√®me</h3>
<select onchange="changeTheme(this.value)">
<option value="green">Vert</option>
<option value="red">Rouge</option>
<option value="blue">Bleu</option>
<option value="rose">Rose</option>
<option value="violet">Violet</option>
<option value="orange">Orange</option>
</select>
</div>

<div class="card">
<h3>üìä Stats</h3>
<p>Points : <span id="points">0</span></p>
<p>Niveau : <span id="level">1</span></p>
</div>

<div class="card">
<h3>‚úÖ T√¢ches</h3>
<input id="taskInput" placeholder="Nouvelle t√¢che">
<button onclick="addTask()">Ajouter</button>
<ul id="tasks"></ul>
</div>

<div class="card">
<h3>üçΩ Menu semaine</h3>
<button onclick="generateMenu()">G√©n√©rer</button>
<ul id="menu"></ul>
</div>

<div class="card">
<h3>üõí Liste de courses</h3>
<button onclick="generateCourses()">Depuis menu</button>
<ul id="courses"></ul>
</div>

</div>

<!-- CHAT -->
<div id="chat">
<header>
<h3>Assistant IA</h3>
<span class="menu-btn" onclick="closeChat()">‚úñ</span>
</header>

<div id="messages"></div>

<div id="chatInputBox">
<input id="chatInput" placeholder="√âcris un message..."
onkeydown="if(event.key==='Enter')sendMsg()">
<button onclick="sendMsg()">‚¨ÜÔ∏è</button>
</div>
</div>

<script>
/* ===== DONN√âES ===== */
let lang=localStorage.lang||"fr"
let theme=localStorage.theme||"green"
let tasks=JSON.parse(localStorage.tasks||"[]")
let menu=JSON.parse(localStorage.menu||"[]")
let courses=JSON.parse(localStorage.courses||"[]")
let chatData=JSON.parse(localStorage.chat||"[]")
let points=Number(localStorage.points||0)

document.body.className=theme

/* ===== 1000+ RECETTES ===== */
const bases=["Poulet","B≈ìuf","Poisson","V√©g√©tarien","P√¢tes","Riz","L√©gumes","Tofu"]
const styles=["curry","grill√©","au four","√† la cr√®me","√©pic√©","asiatique","italien","m√©diterran√©en"]
let recipes=[]
for(let b of bases){
for(let s of styles){
for(let i=1;i<=16;i++){
recipes.push(`${b} ${s} recette ${i}`)
}}}

/* ===== IA LOCALE AVANC√âE ===== */
function smartAI(text){
text=text.toLowerCase()

// m√©moire contextuelle
let last=chatData.slice(-3).map(x=>x.t).join(" ")

if(/bonjour|salut|hello/.test(text))
return lang==="en"?"Hello!":"Salut üòä"

if(text.includes("recette")){
let r=recipes[Math.floor(Math.random()*recipes.length)]
return `üçΩÔ∏è Recette propos√©e : ${r}

Ingr√©dients :
- ingr√©dient principal
- l√©gumes
- √©pices

Conseil : adapte selon ton go√ªt.`
}

if(text.includes("menu")){
return "Je peux te g√©n√©rer un menu de la semaine avec plaisir üçΩÔ∏è"
}

if(text.includes("fatigu√©")||text.includes("motiv√©")){
return "üí™ Courage. Fais une petite pause, puis avance √©tape par √©tape."
}

if(text.includes("aide")){
return "Je peux t‚Äôaider pour les repas, les t√¢ches, l‚Äôorganisation et la motivation."
}

return "Je suis l√† pour t‚Äôaider üòä"
}

/* ===== CHAT ===== */
function openChat(){
document.getElementById("main").style.display="none"
document.getElementById("chat").style.display="flex"
renderChat()
}
function closeChat(){
document.getElementById("chat").style.display="none"
document.getElementById("main").style.display="block"
}

function sendMsg(){
let input=document.getElementById("chatInput")
let t=input.value.trim()
if(!t)return
chatData.push({w:"user",t})
chatData.push({w:"ai",t:smartAI(t)})
input.value=""
saveAll()
renderChat()
}

function renderChat(){
let m=document.getElementById("messages")
m.innerHTML=""
chatData.forEach(x=>{
m.innerHTML+=`<div class="msg ${x.w}">${x.w==="user"?"üë§":"ü§ñ"} ${x.t}</div>`
})
m.scrollTop=m.scrollHeight
}

/* ===== T√ÇCHES ===== */
function addTask(){
let i=document.getElementById("taskInput")
if(i.value){
tasks.push({t:i.value,d:false})
i.value=""
points+=5
saveAll()
}}
function renderTasks(){
let ul=document.getElementById("tasks")
ul.innerHTML=""
tasks.forEach(t=>{
let li=document.createElement("li")
li.textContent=t.t
if(t.d)li.classList.add("done")
li.onclick=()=>{t.d=!t.d;points+=5;saveAll()}
ul.appendChild(li)
})
}

/* ===== MENU ===== */
function generateMenu(){
menu=[]
for(let i=0;i<7;i++)menu.push(recipes[Math.floor(Math.random()*recipes.length)])
saveAll()
}
function renderMenu(){
let ul=document.getElementById("menu")
ul.innerHTML=""
menu.forEach(m=>ul.innerHTML+=`<li>${m}</li>`)
}

/* ===== COURSES ===== */
function generateCourses(){
courses=[...new Set(menu)]
saveAll()
}
function renderCourses(){
let ul=document.getElementById("courses")
ul.innerHTML=""
courses.forEach((c,i)=>{
let li=document.createElement("li")
li.textContent=c
li.onclick=()=>{courses.splice(i,1);saveAll()}
ul.appendChild(li)
})
}

/* ===== SETTINGS ===== */
function changeLang(l){lang=l;saveAll()}
function changeTheme(t){theme=t;document.body.className=t;saveAll()}

/* ===== SAVE ===== */
function saveAll(){
localStorage.lang=lang
localStorage.theme=theme
localStorage.tasks=JSON.stringify(tasks)
localStorage.menu=JSON.stringify(menu)
localStorage.courses=JSON.stringify(courses)
localStorage.chat=JSON.stringify(chatData)
localStorage.points=points
renderAll()
}

function renderAll(){
document.getElementById("points").textContent=points
document.getElementById("level").textContent=Math.floor(points/50)+1
renderTasks();renderMenu();renderCourses()
}

/* INIT */
renderAll()
</script>

</body>
  </html>

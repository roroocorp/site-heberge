<!DOCTYPE html>
<html lang="fr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0">
<title>Daily Life Dashboard</title>

<style>
*{margin:0;padding:0;box-sizing:border-box;font-family:system-ui}
html,body{width:100%;overflow-x:hidden}
body.green{background:linear-gradient(180deg,#064e3b,#042f2e)}
body.red{background:linear-gradient(180deg,#7f1d1d,#450a0a)}
body.blue{background:linear-gradient(180deg,#1e3a8a,#020617)}
body.rose{background:linear-gradient(180deg,#9d174d,#4a044e)}
body.violet{background:linear-gradient(180deg,#5b21b6,#2e1065)}
body{color:white;min-height:100vh;padding:10px}

.container{max-width:420px;margin:auto}

/* HEADER */
header{display:flex;align-items:center;justify-content:space-between;margin-bottom:10px}
header h1{font-size:20px}

/* CARDS */
.card{
background:rgba(255,255,255,.12);
backdrop-filter:blur(14px);
border-radius:18px;
padding:14px;
margin-bottom:12px;
box-shadow:inset 0 0 0 1px rgba(255,255,255,.15),0 8px 25px rgba(0,0,0,.25)
}

input,select,button{
width:100%;padding:10px;border:none;border-radius:12px;margin-top:6px
}
input,select{background:rgba(255,255,255,.9)}
button{background:rgba(255,255,255,.2);color:white;font-weight:bold}

ul{list-style:none;margin-top:6px}
li{
background:rgba(255,255,255,.15);
padding:8px;border-radius:10px;margin-top:6px;
user-select:none
}
li.done{text-decoration:line-through;opacity:.6}

/* SIDEBAR */
#sidebar{
position:fixed;top:0;left:-100%;
width:75%;max-width:280px;height:100%;
background:#0f172a;padding:15px;
transition:.3s;z-index:10
}
#sidebar.active{left:0}
#sidebar div{padding:10px;border-bottom:1px solid #333;cursor:pointer}

/* CHAT */
#chat{
display:none;position:fixed;top:0;left:0;
width:100%;height:100%;
background:#020617;z-index:9;
flex-direction:column
}
#messages{flex:1;overflow-y:auto;padding:10px}
.msg{margin-bottom:6px}
.user{color:#38bdf8}
.ai{color:#a7f3d0}
</style>
</head>

<body class="green">

<div id="sidebar">
<div onclick="openChat()">ğŸ’¬ Nouvelle conversation</div>
<div onclick="closeChat()">ğŸ  Accueil</div>
</div>

<div id="chat">
<header>
<span onclick="toggleMenu()">â˜°</span>
<h1>Conversation</h1>
</header>
<div id="messages"></div>
<input id="chatInput" placeholder="Ã‰cris..." onkeydown="if(event.key==='Enter')sendMsg()">
</div>

<div class="container" id="main">

<header>
<span onclick="toggleMenu()">â˜°</span>
<h1>Daily Life</h1>
</header>

<div class="card">
<h3>ğŸ¨ ThÃ¨me</h3>
<select onchange="changeTheme(this.value)">
<option value="green">Vert</option>
<option value="red">Rouge</option>
<option value="blue">Bleu</option>
<option value="rose">Rose</option>
<option value="violet">Violet</option>
</select>
</div>

<div class="card">
<h3>ğŸ“Š Stats</h3>
<p>Points : <span id="points">0</span></p>
<p>Niveau : <span id="level">1</span></p>
</div>

<div class="card">
<h3>âœ… To-Do</h3>
<input id="taskInput" placeholder="Nouvelle tÃ¢che">
<button onclick="addTask()">Ajouter</button>
<ul id="tasks"></ul>
</div>

<div class="card">
<h3>ğŸ§‘â€ğŸ³ Menu semaine</h3>
<button onclick="generateMenu()">GÃ©nÃ©rer</button>
<ul id="menu"></ul>
</div>

<div class="card">
<h3>ğŸ›’ Courses</h3>
<button onclick="generateCourses()">Depuis menu</button>
<ul id="courses"></ul>
</div>

<div class="card">
<h3>â° Rappel</h3>
<input type="time" id="alarm">
<button onclick="setAlarm()">Activer</button>
</div>

</div>

<script>
let tasks=JSON.parse(localStorage.tasks||"[]")
let menu=JSON.parse(localStorage.menu||"[]")
let courses=JSON.parse(localStorage.courses||"[]")
let points=Number(localStorage.points||0)

const meals=["PÃ¢tes","Pizza","Riz","Poulet","Salade","Burger","Poisson","Tacos"]

function save(){localStorage.tasks=JSON.stringify(tasks);localStorage.menu=JSON.stringify(menu);localStorage.courses=JSON.stringify(courses);localStorage.points=points;render()}

function render(){
tasksEl.innerHTML=""
tasks.forEach((t,i)=>{
let li=document.createElement("li")
li.textContent=t.t
if(t.d)li.classList.add("done")
li.onclick=()=>{t.d=!t.d;points+=5;save()}
tasksEl.appendChild(li)
})

menuEl.innerHTML=""
menu.forEach(m=>menuEl.innerHTML+=`<li>${m}</li>`)

coursesEl.innerHTML=""
courses.forEach((c,i)=>{
let li=document.createElement("li")
li.textContent=c
let timer
li.addEventListener("touchstart",()=>timer=setTimeout(()=>{courses.splice(i,1);save()},600))
li.addEventListener("touchend",()=>clearTimeout(timer))
coursesEl.appendChild(li)
})

pointsEl.textContent=points
levelEl.textContent=Math.floor(points/50)+1
}

function addTask(){if(taskInput.value){tasks.push({t:taskInput.value,d:false});taskInput.value="";save()}}
function generateMenu(){menu=[];for(let i=0;i<7;i++)menu.push(meals[Math.floor(Math.random()*meals.length)]);save()}
function generateCourses(){courses=[...new Set(menu)];save()}
function changeTheme(t){document.body.className=t}
function toggleMenu(){sidebar.classList.toggle("active")}
function openChat(){chat.style.display="flex";main.style.display="none";sidebar.classList.remove("active")}
function closeChat(){chat.style.display="none";main.style.display="block"}
function sendMsg(){
let t=chatInput.value;if(!t)return
messages.innerHTML+=`<div class="msg user">ğŸ‘¤ ${t}</div>`
chatInput.value=""
setTimeout(()=>messages.innerHTML+=`<div class="msg ai">ğŸ¤– Je peux tâ€™aider pour recettes, organisation et rappels.</div>`,600)
}
function setAlarm(){
Notification.requestPermission()
let time=alarm.value
setInterval(()=>{
let now=new Date().toTimeString().slice(0,5)
if(now===time)new Notification("â° Rappel !")
},30000)
}

render()
</script>

</body>
  </html>

<!DOCTYPE html>
<html lang="fr">
<head>
<meta charset="UTF-8">
<title>Daily Life Dashboard</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<style>
:root{--bg:#f4f6f8;--card:#fff;--text:#111;--primary:#2563eb}
body.red{--bg:#7f1d1d;--card:#991b1b;--text:#fff;--primary:#ef4444}
body.blue{--bg:#0f172a;--card:#1e293b;--text:#e0f2fe;--primary:#3b82f6}
body.green{--bg:#052e16;--card:#064e3b;--text:#ecfdf5;--primary:#22c55e}
body{margin:0;font-family:Arial;background:var(--bg);color:var(--text)}
header{background:var(--primary);color:#fff;padding:20px;text-align:center}
main{max-width:900px;margin:auto;padding:20px;display:grid;gap:20px}
.card{background:var(--card);padding:15px;border-radius:12px;box-shadow:0 4px 10px rgba(0,0,0,.2)}
input,textarea,button,select{width:100%;padding:8px;margin-top:6px;border-radius:6px;border:1px solid #ccc}
button{background:var(--primary);color:#fff;cursor:pointer;border:none}
li{cursor:pointer;transition:.3s;margin-top:5px}
li.done{text-decoration:line-through;opacity:.6}
</style>
</head>
<body>
<header>
<h1>ğŸš€ Daily Life Dashboard</h1>
<p>Tout-en-un â€¢ Fonctionnel â€¢ SauvegardÃ©</p>
</header>

<main>
<div class="card">
<h2>ğŸ¨ ThÃ¨me</h2>
<select id="theme">
<option value="">Clair</option>
<option value="red">Rouge</option>
<option value="blue">Bleu</option>
<option value="green">Vert</option>
</select>
</div>

<div class="card">
<h2>ğŸ“Š Stats</h2>
<p>ğŸ† Points : <span id="points">0</span></p>
<p>ğŸ® Niveau : <span id="level">1</span></p>
<p>ğŸ… Badge : <span id="badge">Aucun</span></p>
</div>

<div class="card">
<h2>âœ… To-Do</h2>
<input id="todoInput" placeholder="Ã‰cris une tÃ¢che puis clique Ajouter">
<button id="addBtn">Ajouter</button>
<ul id="list"></ul>
</div>

<div class="card">
<h2>ğŸ¤– IA Conseiller</h2>
<textarea id="aiInput" placeholder="Explique ton problÃ¨me ou ta journÃ©e"></textarea>
<button id="aiBtn">Demander conseil</button>
<p id="aiOutput" style="font-weight:bold;"></p>
</div>

<div class="card">
<h2>ğŸ”” Notification</h2>
<input type="time" id="notifTime">
<button id="notifBtn">Activer rappel</button>
</div>
</main>

<script>
// ===== THEME =====
const themeSel=document.getElementById('theme');
const savedTheme=localStorage.getItem('theme');
if(savedTheme){document.body.classList.add(savedTheme);themeSel.value=savedTheme}
themeSel.addEventListener('change',()=>{
 document.body.className='';
 if(themeSel.value)document.body.classList.add(themeSel.value);
 localStorage.setItem('theme',themeSel.value);
});

// ===== DATA =====
let todos=JSON.parse(localStorage.getItem('todos')||'[]');
let points=parseInt(localStorage.getItem('points')||'0');
let level=parseInt(localStorage.getItem('level')||'1');
let badge=localStorage.getItem('badge')||'Aucun';

const list=document.getElementById('list');
const pointsEl=document.getElementById('points');
const levelEl=document.getElementById('level');
const badgeEl=document.getElementById('badge');

function saveAll(){
 localStorage.setItem('todos',JSON.stringify(todos));
 localStorage.setItem('points',points);
 localStorage.setItem('level',level);
 localStorage.setItem('badge',badge);
 pointsEl.textContent=points;
 levelEl.textContent=level;
 badgeEl.textContent=badge;
}

function renderTodos(){
 list.innerHTML='';
 todos.forEach((t,i)=>{
  const li=document.createElement('li');
  li.textContent=t.text;
  if(t.done)li.classList.add('done');
  li.onclick=()=>toggleTodo(i);
  list.appendChild(li);
 });
 saveAll();
}

function addTodo(){
 const input=document.getElementById('todoInput');
 if(input.value.trim()==='')return;
 todos.push({text:input.value,done:false});
 input.value='';
 renderTodos();
}

function toggleTodo(i){
 if(!todos[i].done){
  points+=10;
  if(points%50===0){level++;badge='ğŸ”¥ MotivÃ©'}
 }
 todos[i].done=!todos[i].done;
 renderTodos();
}

document.getElementById('addBtn').onclick=addTodo;
renderTodos();

// ===== IA =====
function runAI(){
 const text=document.getElementById('aiInput').value.toLowerCase();
 let response='';
 if(text==='') response='Ã‰cris quelque chose pour que je puisse tâ€™aider.';
 else if(text.includes('fatigu')) response='Tu devrais faire une pause et respirer 5 minutes.';
 else if(text.includes('procrast')) response='Commence par une tÃ¢che trÃ¨s simple pour te lancer.';
 else if(points<30) response='Commence doucement, une petite tÃ¢che suffit.';
 else if(points<100) response='Bon rythme, attaque une tÃ¢che importante.';
 else response='Excellent travail, pense Ã  garder un Ã©quilibre.';
 document.getElementById('aiOutput').textContent=response;
}

document.getElementById('aiBtn').addEventListener('click',runAI);

// ===== NOTIFICATION =====
function setNotif(){
 if(!('Notification'in window)) return alert('Notifications non supportÃ©es');
 const time=document.getElementById('notifTime').value;
 if(!time) return alert('Choisis une heure');
 Notification.requestPermission().then(p=>{
  if(p==='granted'){
   setInterval(()=>{
    const now=new Date();
    const cur=now.getHours().toString().padStart(2,'0')+':'+now.getMinutes().toString().padStart(2,'0');
    if(cur===time){
     new Notification('â° Rappel','Il est temps de travailler sur tes tÃ¢ches');
    }
   },60000);
   alert('Rappel activÃ© Ã  '+time);
  }
 });
}

document.getElementById('notifBtn').addEventListener('click',setNotif);
</script>
</body>
 </html>

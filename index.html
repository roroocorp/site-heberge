<!DOCTYPE html>
<html lang="fr">
<head>
<meta charset="UTF-8">
<title>Daily Life Dashboard</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<style>
:root{--bg:#f4f6f8;--card:#fff;--text:#111;--primary:#2563eb}
body.red{--bg:#7f1d1d;--card:#991b1b;--text:#fff;--primary:#ef4444}
body.blue{--bg:#0f172a;--card:#1e293b;--text:#e0f2fe;--primary:#3b82f6}
body.green{--bg:#052e16;--card:#064e3b;--text:#ecfdf5;--primary:#22c55e}
body{margin:0;font-family:Arial;background:var(--bg);color:var(--text)}
header{background:var(--primary);color:#fff;padding:20px;text-align:center}
main{max-width:900px;margin:auto;padding:20px;display:grid;gap:20px}
.card{background:var(--card);padding:15px;border-radius:12px;box-shadow:0 4px 10px rgba(0,0,0,.2)}
input,textarea,button,select{width:100%;padding:8px;margin-top:6px;border-radius:6px;border:1px solid #ccc}
button{background:var(--primary);color:#fff;cursor:pointer;border:none}
li{cursor:pointer;transition:.3s;margin-top:5px}
li.done{text-decoration:line-through;opacity:.6}
#aiOutput{white-space:pre-line;font-weight:bold}
.badge{display:inline-block;margin:5px;padding:5px 10px;border-radius:8px;background:gold;color:#000;animation:pop 0.5s}
@keyframes pop{0%{transform:scale(0)}50%{transform:scale(1.2)}100%{transform:scale(1)}}
canvas{background:#fff;border-radius:10px;padding:10px}
</style>
</head>
<body>
<header>
<h1 id="title">ğŸš€ Daily Life Dashboard</h1>
<p id="subtitle">IA + Graphique + Badges animÃ©s</p>
</header>

<main>
<div class="card">
<h2 id="themeLabel">ğŸ¨ ThÃ¨me</h2>
<select id="theme">
<option value="">Clair</option>
<option value="red">Rouge</option>
<option value="blue">Bleu</option>
<option value="green">Vert</option>
</select>
<h2 id="langLabel">ğŸŒ Langue</h2>
<select id="lang">
<option value="fr">FranÃ§ais</option>
<option value="en">English</option>
</select>
</div>

<div class="card">
<h2 id="statsTitle">ğŸ“Š Stats</h2>
<p>ğŸ† <span id="pointsLabel">Points</span> : <span id="points">0</span></p>
<p>ğŸ® <span id="levelLabel">Level</span> : <span id="level">1</span></p>
<p>ğŸ… <span id="badgeLabel">Badge</span> : <span id="badge">Aucun</span></p>
<div id="badges"></div>
</div>

<div class="card">
<h2 id="todoTitle">âœ… To-Do</h2>
<input id="todoInput" placeholder="Ã‰cris une tÃ¢che puis clique Ajouter">
<button id="addBtn">Ajouter</button>
<ul id="list"></ul>
</div>

<div class="card">
<h2 id="aiTitle">ğŸ¤– IA Conseiller</h2>
<textarea id="aiInput" placeholder="Ã‰cris ton message ici"></textarea>
<button id="aiBtn">Demander conseil</button>
<p id="aiOutput"></p>
</div>

<div class="card">
<h2 id="chartTitle">ğŸ“Š Graphique de productivitÃ©</h2>
<canvas id="chart" width="400" height="150"></canvas>
</div>

<div class="card">
<h2 id="notifTitle">ğŸ”” Notification</h2>
<input type="time" id="notifTime">
<button id="notifBtn">Activer rappel</button>
</div>
</main>

<script>
// ===== LANGUE =====
let lang=localStorage.getItem('lang')||'fr';
document.getElementById('lang').value=lang;
const texts = {
  fr: {
    title:'ğŸš€ Daily Life Dashboard',
    subtitle:'IA + Graphique + Badges animÃ©s',
    theme:'ğŸ¨ ThÃ¨me',
    lang:'ğŸŒ Langue',
    stats:'ğŸ“Š Stats',
    points:'Points',
    level:'Niveau',
    badge:'Badge',
    todo:'âœ… To-Do',
    add:'Ajouter',
    ai:'ğŸ¤– IA Conseiller',
    chart:'ğŸ“Š Graphique de productivitÃ©',
    notif:'ğŸ”” Notification',
    notifMsg:'Il est temps de travailler sur tes tÃ¢ches',
    notifActivated:'Rappel activÃ© Ã  '
  },
  en: {
    title:'ğŸš€ Daily Life Dashboard',
    subtitle:'AI + Chart + Animated Badges',
    theme:'ğŸ¨ Theme',
    lang:'ğŸŒ Language',
    stats:'ğŸ“Š Stats',
    points:'Points',
    level:'Level',
    badge:'Badge',
    todo:'âœ… To-Do',
    add:'Add',
    ai:'ğŸ¤– AI Advisor',
    chart:'ğŸ“Š Productivity Chart',
    notif:'ğŸ”” Notification',
    notifMsg:'Time to work on your tasks',
    notifActivated:'Reminder set for '
  }
};
function setLanguage(l){
  const t=texts[l];
  document.getElementById('title').textContent=t.title;
  document.getElementById('subtitle').textContent=t.subtitle;
  document.getElementById('themeLabel').textContent=t.theme;
  document.getElementById('langLabel').textContent=t.lang;
  document.getElementById('statsTitle').textContent=t.stats;
  document.getElementById('pointsLabel').textContent=t.points;
  document.getElementById('levelLabel').textContent=t.level;
  document.getElementById('badgeLabel').textContent=t.badge;
  document.getElementById('todoTitle').textContent=t.todo;
  document.getElementById('addBtn').textContent=t.add;
  document.getElementById('aiTitle').textContent=t.ai;
  document.getElementById('chartTitle').textContent=t.chart;
  document.getElementById('notifTitle').textContent=t.notif;
}
setLanguage(lang);
document.getElementById('lang').addEventListener('change',(e)=>{
  lang=e.target.value;
  localStorage.setItem('lang',lang);
  setLanguage(lang);
});

// ===== THEME =====
const themeSel=document.getElementById('theme');
const savedTheme=localStorage.getItem('theme');
if(savedTheme){document.body.classList.add(savedTheme);themeSel.value=savedTheme}
themeSel.addEventListener('change',()=>{
 document.body.className='';
 if(themeSel.value)document.body.classList.add(themeSel.value);
 localStorage.setItem('theme',themeSel.value);
});

// ===== DATA =====
let todos=JSON.parse(localStorage.getItem('todos')||'[]');
let points=parseInt(localStorage.getItem('points')||'0');
let level=parseInt(localStorage.getItem('level')||'1');
let badge=localStorage.getItem('badge')||'Aucun';
let history=JSON.parse(localStorage.getItem('history')||'[]');

const list=document.getElementById('list');
const pointsEl=document.getElementById('points');
const levelEl=document.getElementById('level');
const badgeEl=document.getElementById('badge');
const badgesDiv=document.getElementById('badges');

function saveAll(){
 localStorage.setItem('todos',JSON.stringify(todos));
 localStorage.setItem('points',points);
 localStorage.setItem('level',level);
 localStorage.setItem('badge',badge);
 localStorage.setItem('history',JSON.stringify(history));
 pointsEl.textContent=points;
 levelEl.textContent=level;
 badgeEl.textContent=badge;
 renderBadges();
 drawChart();
}

// ===== BADGES =====
function renderBadges(){
 badgesDiv.innerHTML='';
 if(points>=50) badgesDiv.innerHTML+='<span class="badge">ğŸ¯ 50 points</span>';
 if(points>=100) badgesDiv.innerHTML+='<span class="badge">ğŸ’ª 100 points</span>';
 if(level>=3) badgesDiv.innerHTML+='<span class="badge">ğŸ… Niveau 3</span>';
}

// ===== TODO =====
function renderTodos(){
 list.innerHTML='';
 todos.forEach((t,i)=>{
  const li=document.createElement('li');
  li.textContent=t.text;
  if(t.done) li.classList.add('done');
  li.onclick=()=>toggleTodo(i);
  list.appendChild(li);
 });
 saveAll();
}

function addTodo(){
 const input=document.getElementById('todoInput');
 if(input.value.trim()==='')return;
 todos.push({text:input.value,done:false});
 input.value='';
 renderTodos();
}

function toggleTodo(i){
 if(!todos[i].done){
  points+=10;
  history.push(points);
  if(points%50===0){level++;badge='ğŸ”¥ MotivÃ©'}
  renderBadges(); // animation badge quand tÃ¢che finie
 }
 todos[i].done=!todos[i].done;
 renderTodos();
}

document.getElementById('addBtn').onclick=addTodo;
renderTodos();

// ===== IA MULTI-REPONSES =====
function runAI(){
 const text=document.getElementById('aiInput').value.trim().toLowerCase();
 let responses=[];
 if(text==='') responses=['Ã‰cris quelque chose pour que je puisse tâ€™aider.'];
 else if(text.includes('fatigu') || text.includes('Ã©puisÃ©')) responses=['Prends une pause', 'Respire 5 minutes', 'Ã‰coute de la musique'];
 else if(text.includes('stress') || text.includes('angoissÃ©')) responses=['Fais une marche', 'Bois de lâ€™eau', 'Respire calmement'];
 else if(text.includes('procrast')) responses=['Commence par une petite tÃ¢che', 'DÃ©coupe ton objectif', 'Supprime les distractions'];
 else if(text.includes('cava') || text.includes('Ã§a va')) responses=['Content de lâ€™entendre !', 'Super, continue !', 'Garde le rythme !'];
 else responses=['Reste concentrÃ©', 'Planifie tes tÃ¢ches', 'Nâ€™oublie pas de prendre des pauses', 'Sois fier de toi'];
 document.getElementById('aiOutput').textContent='â€¢ '+responses.join('\nâ€¢ ');
 document.getElementById('aiInput').value='';
}
document.getElementById('aiBtn').addEventListener('click',runAI);

// ===== NOTIFICATION =====
function setNotif(){
 if(!('Notification'in window)) return alert('Notifications non supportÃ©es');
 const time=document.getElementById('notifTime').value;
 if(!time) return alert(texts[lang].notifActivated);
 Notification.requestPermission().then(p=>{
  if(p==='granted'){
   setInterval(()=>{
    const now=new Date();
    const cur=now.getHours().toString().padStart(2,'0')+':'+now.getMinutes().toString().padStart(2,'0');
    if(cur===time){
     new Notification(texts[lang].notifMsg);
    }
   },60000);
   alert(texts[lang].notifActivated+time);
  }
 });
}
document.getElementById('notifBtn').addEventListener('click',setNotif);

// ===== CHART =====
function drawChart(){
 const c=document.getElementById('chart');
 const ctx=c.getContext('2d');
 ctx.clearRect(0,0,c.width,c.height);
 if(history.length===0) return;
 const max=Math.max(...history);
 const margin=20;
 const w=(c.width-margin*2)/7;
 const hScale=(c.height-margin*2)/max;
 for(let i=0;i<history.length;i++){
  ctx.fillStyle='#3b82f6';
  const barHeight=history[i]*hScale;
  ctx.fillRect(margin+i*w, c.height-margin-barHeight, w*0.6, barHeight);
  ctx.fillStyle='#000';
  ctx.fillText(history[i], margin+i*w+5, c.height-margin-barHeight-5);
 }
}
drawChart();
</script>
</body>
 </html>

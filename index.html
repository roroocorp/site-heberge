<!DOCTYPE html>
<html lang="fr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Daily Life Ultra IA</title>

<style>
body {
  margin: 0;
  font-family: Arial, sans-serif;
  background: linear-gradient(180deg, #1e4fd8, #0b1d3a);
  color: white;
}

/* HEADER */
header {
  padding: 15px;
  background: #1f4fc9;
  display: flex;
  justify-content: space-between;
  align-items: center;
}

header h1 {
  font-size: 18px;
  margin: 0;
}

/* NAV */
nav {
  display: flex;
  gap: 10px;
  padding: 15px;
}

nav button {
  flex: 1;
  border: none;
  border-radius: 20px;
  padding: 12px;
  background: #5f8fe8;
  color: white;
  font-size: 16px;
}

/* CHAT */
#chat {
  padding: 15px;
  height: calc(100vh - 230px);
  overflow-y: auto;
}

.message {
  max-width: 80%;
  padding: 10px 14px;
  border-radius: 16px;
  margin-bottom: 10px;
  word-wrap: break-word;
}

.user {
  background: #4fc3ff;
  margin-left: auto;
  color: #000;
}

.bot {
  background: #2ecc71;
  margin-right: auto;
  color: #000;
}

/* INPUT */
#inputBar {
  display: flex;
  padding: 15px;
  background: #0b1d3a;
}

#inputBar input {
  flex: 1;
  border-radius: 20px;
  border: none;
  padding: 12px;
  font-size: 16px;
}

#inputBar button {
  margin-left: 10px;
  border-radius: 50%;
  border: none;
  width: 45px;
  height: 45px;
  background: #4fc3ff;
  font-size: 20px;
}

/* WELCOME */
#welcome {
  background: rgba(255,255,255,0.15);
  margin: 15px;
  padding: 15px;
  border-radius: 16px;
}
</style>
</head>

<body>

<header>
  <h1>Daily Life Ultra IA</h1>
  <span id="time"></span>
</header>

<nav>
  <button>Accueil</button>
  <button>IA</button>
  <button>Code Promo</button>
</nav>

<div id="welcome">
  <strong>Bienvenue üëã</strong><br>
  Assistant simple, rapide et local.
</div>

<div id="chat"></div>

<div id="inputBar">
  <input id="userInput" placeholder="√âcris ici">
  <button onclick="sendMessage()">‚¨ÜÔ∏è</button>
</div>

<script>
/* HEURE */
setInterval(() => {
  document.getElementById("time").textContent =
    new Date().toLocaleTimeString();
}, 1000);

/* CHAT + STORAGE */
const chat = document.getElementById("chat");
const input = document.getElementById("userInput");

let messages = JSON.parse(localStorage.getItem("messages")) || [];

messages.forEach(m => addMessage(m.text, m.type));

function save() {
  localStorage.setItem("messages", JSON.stringify(messages));
}

function addMessage(text, type) {
  const div = document.createElement("div");
  div.className = "message " + type;
  div.textContent = text;
  chat.appendChild(div);
  chat.scrollTop = chat.scrollHeight;
}

/* ENVOI */
function sendMessage() {
  const text = input.value.trim();
  if (!text) return;

  addMessage(text, "user");
  messages.push({ text, type: "user" });
  save();
  input.value = "";

  setTimeout(() => {
    const reply = iaReply(text);
    addMessage(reply, "bot");
    messages.push({ text: reply, type: "bot" });
    save();
  }, 600);
}

/* IA AM√âLIOR√âE */
function iaReply(userMessage) {
  const msg = userMessage.toLowerCase();

  if (msg.includes("salut") || msg.includes("bonjour")) {
    return "Salut üòÑ Je suis l√† pour t‚Äôaider. Tu veux faire quoi aujourd‚Äôhui ?";
  }

  if (msg.includes("repas") || msg.includes("manger")) {
    return "Tu veux une id√©e rapide ou une vraie recette d√©taill√©e ?";
  }

  if (msg.includes("carbonara")) {
    return `üçù P√¢tes Carbonara (facile)

Ingr√©dients :
- P√¢tes
- Lardons
- 2 ≈ìufs
- Parmesan
- Poivre

√âtapes :
1. Cuire les p√¢tes
2. Faire revenir les lardons
3. M√©langer ≈ìufs + fromage
4. Ajouter p√¢tes hors du feu
5. Poivrer et m√©langer

Tu veux une version encore plus simple ?`;
  }

  if (msg.includes("aide")) {
    return "Explique-moi ce que tu veux faire et je te guide √©tape par √©tape üëç";
  }

  if (msg.length < 4) {
    return "Tu peux pr√©ciser un peu ? üôÇ";
  }

  return "Ok üëç dis-m‚Äôen plus, je t‚Äô√©coute.";
}
</script>

</body>
</html>

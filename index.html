<!DOCTYPE html>
<html lang="fr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Site IA + Codes Promo</title>
<style>
  /* ---- Reset & global ---- */
  * { margin:0; padding:0; box-sizing:border-box; font-family:sans-serif; }
  html, body { height:100%; background:#f0f0f0; color:#000; }
  body { display:flex; flex-direction:column; justify-content:flex-start; }

  /* ---- Header ---- */
  header { display:flex; justify-content:space-between; align-items:center; padding:10px; background:#222; color:#fff; position:sticky; top:0; z-index:10; }
  .menu-bar { cursor:pointer; font-size:24px; }
  .lang-theme { display:flex; gap:10px; }

  /* ---- Side menu ---- */
  .side-menu { position:fixed; top:0; left:0; width:250px; height:100%; background:#111; color:#fff; transform:translateX(-260px); transition:0.3s; padding-top:60px; z-index:9; }
  .side-menu.active { transform:translateX(0); }
  .side-menu ul { list-style:none; }
  .side-menu ul li { padding:15px 20px; cursor:pointer; border-bottom:1px solid #333; }
  .side-menu ul li:hover { background:#333; }

  /* ---- Main content ---- */
  main { flex:1; padding:20px; overflow-y:auto; }
  .chat-container { display:flex; flex-direction:column; gap:10px; }
  .chat-message { padding:10px; border-radius:8px; max-width:70%; }
  .user { background:#cce5ff; align-self:flex-end; }
  .bot { background:#e2e2e2; align-self:flex-start; }

  /* ---- Input area ---- */
  .input-area { display:flex; position:sticky; bottom:0; background:#fff; padding:10px; gap:10px; }
  .input-area input { flex:1; padding:10px; border-radius:20px; border:1px solid #ccc; }
  .input-area button { padding:0 15px; border:none; border-radius:50%; background:#222; color:#fff; cursor:pointer; font-size:18px; }

  /* ---- Codes promo ---- */
  .promo-container { display:flex; flex-wrap:wrap; gap:10px; margin-top:20px; }
  .promo { padding:10px 15px; border-radius:8px; background:#444; color:#fff; cursor:pointer; }
  .promo.createur { background:#ffcc00; color:#000; }

  /* ---- Tasks ---- */
  .tasks { margin-top:20px; }
  .task { display:flex; justify-content:space-between; align-items:center; padding:8px; background:#ddd; border-radius:6px; margin-bottom:5px; }
  .task button { border:none; background:red; color:#fff; border-radius:50%; cursor:pointer; width:24px; height:24px; }

  /* ---- Score & horloge ---- */
  .bottom-info { position:fixed; bottom:10px; left:10px; background:#222; color:#fff; padding:5px 10px; border-radius:8px; }

  /* ---- Responsive fix tablette ---- */
  @media (max-width:1024px) {
    body { background:#f5f5f5; }
    main { padding:10px; }
    .side-menu { width:200px; }
  }
</style>
</head>
<body>

<header>
  <div class="menu-bar" onclick="toggleMenu()">â˜°</div>
  <div class="lang-theme">
    <select id="lang-select" onchange="changeLanguage()">
      <option value="fr">FranÃ§ais</option>
      <option value="en">Anglais</option>
      <option value="de">Allemand</option>
      <option value="zh">Chinois</option>
    </select>
    <select id="theme-select" onchange="changeTheme()">
      <option value="#f0f0f0">Clair</option>
      <option value="#222">Sombre</option>
      <option value="orange">Orange</option>
      <option value="pink">Rose</option>
    </select>
  </div>
</header>

<div class="side-menu" id="sideMenu">
  <ul>
    <li onclick="showHome()">Accueil</li>
    <li onclick="showChat()">Nouvelle conversation</li>
    <li onclick="showHistory()">Historique</li>
    <li onclick="showPromo()">Code promo</li>
  </ul>
</div>

<main id="mainContent">
  <div id="homePage">
    <h2>Accueil</h2>
    <div class="tasks" id="taskList"></div>
  </div>

  <div id="chatPage" style="display:none;">
    <div class="chat-container" id="chatContainer"></div>
    <div class="input-area">
      <input type="text" id="chatInput" placeholder="Ã‰cris un message...">
      <button onclick="sendMessage()">âž¤</button>
    </div>
  </div>

  <div id="promoPage" style="display:none;">
    <h3>Codes Promo</h3>
    <div class="promo-container" id="promoContainer"></div>
  </div>
</main>

<div class="bottom-info" id="bottomInfo">
  <span id="score">Score: 0</span> | <span id="clock"></span>
</div>

<script>
  // ---- Side menu ----
  function toggleMenu() {
    document.getElementById('sideMenu').classList.toggle('active');
  }

  function showHome() {
    document.getElementById('homePage').style.display='block';
    document.getElementById('chatPage').style.display='none';
    document.getElementById('promoPage').style.display='none';
  }
  function showChat() {
    document.getElementById('homePage').style.display='none';
    document.getElementById('chatPage').style.display='flex';
    document.getElementById('promoPage').style.display='none';
  }
  function showHistory() {
    alert("Historique non implÃ©mentÃ© pour l'instant");
  }
  function showPromo() {
    document.getElementById('homePage').style.display='none';
    document.getElementById('chatPage').style.display='none';
    document.getElementById('promoPage').style.display='block';
  }

  // ---- Language & theme ----
  function changeLanguage() {
    const lang = document.getElementById('lang-select').value;
    localStorage.setItem('language', lang);
  }
  function changeTheme() {
    const color = document.getElementById('theme-select').value;
    document.body.style.background = color;
    localStorage.setItem('theme', color);
  }
  // ---- Load saved settings ----
  window.onload = function() {
    const savedLang = localStorage.getItem('language');
    if(savedLang) document.getElementById('lang-select').value = savedLang;
    const savedTheme = localStorage.getItem('theme');
    if(savedTheme) document.body.style.background = savedTheme;
    updateClock();
    setInterval(updateClock, 1000);
    loadPromo();
    loadTasks();
  }

  // ---- Clock ----
  function updateClock(){
    const now = new Date();
    document.getElementById('clock').textContent = now.getHours()+':'+now.getMinutes().toString().padStart(2,'0');
  }

  // ---- Chat IA locale ----
  const chatContainer = document.getElementById('chatContainer');
  function sendMessage(){
    const input = document.getElementById('chatInput');
    const msg = input.value.trim();
    if(!msg) return;
    appendMessage(msg,'user');
    input.value='';
    // RÃ©ponse IA locale
    const response = localAI(msg);
    appendMessage(response,'bot');
  }

  function appendMessage(msg,cls){
    const div = document.createElement('div');
    div.className='chat-message '+cls;
    div.textContent=msg;
    chatContainer.appendChild(div);
    chatContainer.scrollTop = chatContainer.scrollHeight;
  }

  function localAI(msg){
    msg = msg.toLowerCase();
    if(msg.includes("salut")) return "Salut ! Comment Ã§a va ?";
    if(msg.includes("Ã§a va")) return "Oui, Ã§a va trÃ¨s bien, merci ! Et toi ?";
    if(msg.includes("pÃ¢tes")) return "Pour des pÃ¢tes Ã  la carbonara, prends des pÃ¢tes, Å“ufs, lardons, parmesan, crÃ¨me, et fais revenir le tout...";
    return "DÃ©solÃ©, je n'ai pas compris, mais je peux t'aider avec des recettes, du code ou des infos !";
  }

  // ---- Tasks ----
  function loadTasks(){
    const tasks = JSON.parse(localStorage.getItem('tasks')||'[]');
    const list = document.getElementById('taskList');
    list.innerHTML='';
    tasks.forEach((t,i)=>{
      const div=document.createElement('div');
      div.className='task';
      div.innerHTML=`<span>${t}</span><button onclick="deleteTask(${i})">ðŸ—‘</button>`;
      list.appendChild(div);
    });
  }
  function addTask(task){
    const tasks = JSON.parse(localStorage.getItem('tasks')||'[]');
    tasks.push(task);
    localStorage.setItem('tasks',JSON.stringify(tasks));
    loadTasks();
  }
  function deleteTask(index){
    const tasks = JSON.parse(localStorage.getItem('tasks')||'[]');
    tasks.splice(index,1);
    localStorage.setItem('tasks',JSON.stringify(tasks));
    loadTasks();
  }

  // ---- Promo codes ----
  const promoCodes = [
    {label:'CrÃ©ateur', code:'CRP2.0ROROOLNR'},
    {label:'Utilisateur', code:'A4G7R2T9X1'},
    {label:'Utilisateur', code:'M2Q8P5Z4R7'},
    {label:'Utilisateur', code:'B9K1T7X2L5'},
    {label:'Utilisateur', code:'F3V8P6Q1R9'},
    {label:'Utilisateur', code:'G1X9M4T2V7'},
    {label:'Utilisateur', code:'H7R2C9P1Q5'},
    {label:'Utilisateur', code:'K4T1X7R3M9'},
    {label:'Utilisateur', code:'L5Q2V9T6F1'},
    {label:'Utilisateur', code:'N3P7K2X4B8'},
    {label:'Utilisateur', code:'R2M9F4T1Q6'}
  ];

  function loadPromo(){
    const container = document.getElementById('promoContainer');
    container.innerHTML='';
    promoCodes.forEach(p=>{
      const div = document.createElement('div');
      div.className='promo '+(p.label==='CrÃ©ateur'?'createur':'');
      div.textContent=p.label + ": " + p.code;
      container.appendChild(div);
    });
  }
</script>

</body>
  </html>

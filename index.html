<!DOCTYPE html>
<html lang="fr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Daily Productivity</title>
<style>
  body { margin:0; font-family: Arial, sans-serif; background: linear-gradient(to bottom, #fdd, #faa); transition: background 0.3s; }
  header { display:flex; justify-content: space-between; align-items: center; padding: 10px; background:#f88; color:white; }
  header h1 { margin:0; font-size:1.2em; }
  .menu-bars { font-size:1.5em; cursor:pointer; }
  main { padding:10px; }
  select, input, button { margin:5px 0; padding:5px; font-size:1em; }
  .section { margin-bottom:20px; padding:10px; background: rgba(255,255,255,0.3); border-radius:8px; }
  #chat-box { height:200px; overflow-y:auto; background:#fff; padding:5px; border-radius:5px; margin-bottom:5px; }
  .chat-message { margin:5px 0; }
</style>
</head>
<body>

<header>
  <span id="header-text">Daily Productivity</span>
  <span class="menu-bars" id="menu-bars">&#9776;</span>
</header>

<main>

<div class="section">
  ğŸ¨ <strong>ThÃ¨me</strong><br>
  <select id="theme-select">
    <option value="pink">Rose</option>
    <option value="red">Rouge</option>
    <option value="green">Vert</option>
    <option value="blue">Bleu</option>
  </select>
</div>

<div class="section">
  ğŸŒ <strong>Langue</strong><br>
  <select id="lang-select">
    <option value="fr">FranÃ§ais</option>
    <option value="en">Anglais</option>
    <option value="de">Allemand</option>
  </select>
</div>

<div class="section">
  âœ… <strong>To-Do</strong><br>
  <input type="text" id="task-input" placeholder="Nouvelle tÃ¢che">
  <button id="add-task">Ajouter</button>
  <ul id="task-list"></ul>
</div>

<div class="section">
  ğŸ‘¨â€ğŸ³ <strong>IdÃ©es de repas</strong><br>
  <button id="generate-meal">GÃ©nÃ©rer un repas</button>
  <div id="meal-suggestion"></div>
</div>

<div class="section">
  ğŸ¤– <strong>Chat IA</strong><br>
  <div id="chat-box"></div>
  <input type="text" id="chat-input" placeholder="Ã‰cris un message...">
  <button id="send-chat">Envoyer</button>
</div>

</main>

<script>
  // --- ThÃ¨me ---
  const themeSelect = document.getElementById('theme-select');
  themeSelect.value = localStorage.getItem('theme') || 'pink';
  function applyTheme(value) {
    localStorage.setItem('theme', value);
    switch(value){
      case 'pink': document.body.style.background = 'linear-gradient(to bottom, #fdd, #faa)'; break;
      case 'red': document.body.style.background = 'linear-gradient(to bottom, #faa, #f66)'; break;
      case 'green': document.body.style.background = 'linear-gradient(to bottom, #dfd, #6f6)'; break;
      case 'blue': document.body.style.background = 'linear-gradient(to bottom, #ddf, #66f)'; break;
    }
  }
  applyTheme(themeSelect.value);
  themeSelect.addEventListener('change', e => applyTheme(e.target.value));

  // --- Langue ---
  const langSelect = document.getElementById('lang-select');
  langSelect.value = localStorage.getItem('lang') || 'fr';
  langSelect.addEventListener('change', e => {
    localStorage.setItem('lang', e.target.value);
    alert('Langue changÃ©e Ã : ' + e.target.value);
  });

  // --- To-Do ---
  const taskInput = document.getElementById('task-input');
  const taskList = document.getElementById('task-list');
  const addTask = document.getElementById('add-task');
  let tasks = JSON.parse(localStorage.getItem('tasks') || '[]');
  function renderTasks(){
    taskList.innerHTML = '';
    tasks.forEach((t,i)=>{
      const li = document.createElement('li');
      li.textContent = t;
      const del = document.createElement('button');
      del.textContent = 'X';
      del.onclick = ()=>{ tasks.splice(i,1); saveTasks(); renderTasks(); };
      li.appendChild(del);
      taskList.appendChild(li);
    });
  }
  function saveTasks(){ localStorage.setItem('tasks', JSON.stringify(tasks)); }
  addTask.onclick = ()=>{ if(taskInput.value.trim()){ tasks.push(taskInput.value.trim()); saveTasks(); renderTasks(); taskInput.value=''; } }
  renderTasks();

  // --- IdÃ©es de repas ---
  const meals = ['Pizza', 'PÃ¢tes', 'Salade', 'Sushi', 'Burger', 'Riz sautÃ©', 'Curry'];
  document.getElementById('generate-meal').onclick = ()=> {
    const meal = meals[Math.floor(Math.random()*meals.length)];
    document.getElementById('meal-suggestion').textContent = meal;
  };

  // --- Chat IA ---
  const chatBox = document.getElementById('chat-box');
  const chatInput = document.getElementById('chat-input');
  const sendChat = document.getElementById('send-chat');

  async function sendMessage() {
    const text = chatInput.value.trim();
    if(!text) return;
    appendMessage('Vous: ' + text);
    chatInput.value = '';
    
    try {
      const response = await fetch('https://api.openai.com/v1/chat/completions',{
        method:'POST',
        headers:{ 'Content-Type':'application/json', 'Authorization':'Bearer VOTRE_CLE_API' },
        body: JSON.stringify({
          model: "gpt-3.5-turbo",
          messages: [{ role: "user", content: text }]
        })
      });
      const data = await response.json();
      const botMessage = data.choices[0].message.content;
      appendMessage('IA: ' + botMessage);
    } catch(e) {
      appendMessage('Erreur IA: ' + e.message);
    }
  }

  function appendMessage(msg){
    const div = document.createElement('div');
    div.className = 'chat-message';
    div.textContent = msg;
    chatBox.appendChild(div);
    chatBox.scrollTop = chatBox.scrollHeight;
  }

  sendChat.onclick = sendMessage;
  chatInput.addEventListener('keypress', e => { if(e.key==='Enter') sendMessage(); });

  // --- Menu Bars ---
  const menuBars = document.getElementById('menu-bars');
  menuBars.addEventListener('click', ()=> alert('Menu Ã  droite cliquÃ©!'));

</script>
</body>
</html>

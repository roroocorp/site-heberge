<!DOCTYPE html>
<html lang="fr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Daily Life IA Ultra</title>

<style>
*{margin:0;padding:0;box-sizing:border-box;font-family:system-ui}
html,body{width:100%;overflow-x:hidden}
body{min-height:100vh;color:#fff;padding:10px;transition:.3s}

.container{max-width:420px;margin:auto}

/* THEMES */
body.green{background:linear-gradient(180deg,#064e3b,#042f2e)}
body.red{background:linear-gradient(180deg,#7f1d1d,#450a0a)}
body.blue{background:linear-gradient(180deg,#1e3a8a,#020617)}
body.rose{background:linear-gradient(180deg,#9d174d,#4a044e)}
body.violet{background:linear-gradient(180deg,#5b21b6,#2e1065)}
body.orange{background:linear-gradient(180deg,#f97316,#9a3412)}

header{
display:flex;
justify-content:space-between;
align-items:center;
margin-bottom:12px
}

.menu-btn{
font-size:22px;
cursor:pointer
}

.card{
background:rgba(255,255,255,.15);
backdrop-filter:blur(14px);
border-radius:18px;
padding:14px;
margin-bottom:12px
}

input,select,button{
width:100%;
padding:10px;
border:none;
border-radius:12px;
margin-top:6px
}
input,select{background:#fff;color:#000}
button{background:rgba(255,255,255,.25);color:#fff;font-weight:bold}

ul{list-style:none;margin-top:6px}
li{
background:rgba(255,255,255,.18);
padding:8px;
border-radius:10px;
margin-top:6px;
display:flex;
justify-content:space-between;
align-items:center
}
li.done{text-decoration:line-through;opacity:.6}

/* SIDEBAR */
#sidebar{
position:fixed;
top:0;left:-100%;
width:75%;max-width:280px;
height:100%;
background:#0f172a;
padding:15px;
transition:.3s;
z-index:20
}
#sidebar.active{left:0}
#sidebar h3{margin-bottom:12px}
.sidebar-item{
padding:10px;
border-bottom:1px solid #334;
cursor:pointer
}

/* CHAT */
#chat{
display:none;
position:fixed;
top:0;left:0;
width:100%;height:100%;
background:#020617;
z-index:15;
flex-direction:column
}
#messages{
flex:1;
overflow-y:auto;
padding:10px
}
.msg{margin-bottom:8px}
.user{color:#38bdf8}
.ai{color:#a7f3d0}

#chatInputBox{
display:flex;
gap:6px;
padding:10px
}
#chatInput{flex:1}

/* CLOCK */
#clock{
text-align:center;
opacity:.7;
margin-top:10px
}
</style>
</head>

<body>

<!-- SIDEBAR -->
<div id="sidebar">
<h3>ğŸ“‚ Menu</h3>
<div class="sidebar-item" onclick="goHome()">ğŸ  Accueil</div>
<div class="sidebar-item" onclick="openChat()">ğŸ’¬ Chat</div>
<div class="sidebar-item" onclick="clearChat()">ğŸ—‘ï¸ Historique</div>
</div>

<!-- CHAT -->
<div id="chat">
<header>
<h3>Assistant IA</h3>
<span class="menu-btn" onclick="toggleMenu()">â˜°</span>
</header>

<div id="messages"></div>

<div id="chatInputBox">
<input id="chatInput" placeholder="Ã‰cris un message..."
onkeydown="if(event.key==='Enter')sendMsg()">
<button onclick="sendMsg()">â¬†ï¸</button>
</div>
</div>

<!-- MAIN -->
<div class="container" id="main">

<header>
<h2>Daily Life IA Ultra</h2>
<span class="menu-btn" onclick="toggleMenu()">â˜°</span>
</header>

<div class="card">
<h3>ğŸŒ Langue</h3>
<select id="langSelect" onchange="changeLang(this.value)">
<option value="fr">FranÃ§ais</option>
<option value="en">English</option>
<option value="de">Deutsch</option>
</select>
</div>

<div class="card">
<h3>ğŸ¨ ThÃ¨me</h3>
<select id="themeSelect" onchange="changeTheme(this.value)">
<option value="green">Vert</option>
<option value="red">Rouge</option>
<option value="blue">Bleu</option>
<option value="rose">Rose</option>
<option value="violet">Violet</option>
<option value="orange">Orange</option>
</select>
</div>

<div class="card">
<h3>ğŸ“Š Stats</h3>
<p>Points : <span id="points">0</span></p>
<p>Niveau : <span id="level">1</span></p>
</div>

<div class="card">
<h3>âœ… TÃ¢ches</h3>
<input id="taskInput" placeholder="Nouvelle tÃ¢che">
<button onclick="addTask()">Ajouter</button>
<ul id="tasks"></ul>
</div>

<div class="card">
<h3>ğŸ½ Menu semaine</h3>
<button onclick="generateMenu()">GÃ©nÃ©rer</button>
<ul id="menu"></ul>
</div>

<div class="card">
<h3>ğŸ›’ Liste de courses</h3>
<button onclick="generateCourses()">Depuis menu</button>
<ul id="courses"></ul>
</div>

<div id="clock">--:--</div>

</div>

<script>
/* ===== STATE ===== */
let lang=localStorage.lang||"fr"
let theme=localStorage.theme||"green"
let tasks=JSON.parse(localStorage.tasks||"[]")
let menu=JSON.parse(localStorage.menu||"[]")
let courses=JSON.parse(localStorage.courses||"[]")
let chatData=JSON.parse(localStorage.chat||"[]")
let points=Number(localStorage.points||0)

/* APPLY SAVED */
document.body.className=theme
langSelect.value=lang
themeSelect.value=theme

/* RECIPES */
const recipes=["Poulet curry","PÃ¢tes pesto","Riz lÃ©gumes","Poisson citron","Burger maison","Pizza","Salade","Tacos"]

/* MENU */
function toggleMenu(){
sidebar.classList.toggle("active")
}
function goHome(){
chat.style.display="none"
main.style.display="block"
sidebar.classList.remove("active")
}
function openChat(){
main.style.display="none"
chat.style.display="flex"
sidebar.classList.remove("active")
renderChat()
}

/* CHAT */
function smartAI(t){
if(t.includes("recette")) return recipes[Math.floor(Math.random()*recipes.length)]
return "Je suis lÃ  pour tâ€™aider ğŸ™‚"
}
function sendMsg(){
let i=chatInput.value.trim()
if(!i) return
chatData.push({w:"user",t:i})
chatData.push({w:"ai",t:smartAI(i)})
chatInput.value=""
saveAll()
renderChat()
}
function renderChat(){
messages.innerHTML=""
chatData.forEach(m=>{
messages.innerHTML+=`<div class="msg ${m.w}">${m.w==="user"?"ğŸ‘¤":"ğŸ¤–"} ${m.t}</div>`
})
messages.scrollTop=messages.scrollHeight
}
function clearChat(){
chatData=[]
saveAll()
}

/* TASKS */
function addTask(){
if(taskInput.value){
tasks.push({t:taskInput.value,d:false})
taskInput.value=""
points+=5
saveAll()
}}
function renderTasks(){
tasksEl.innerHTML=""
tasks.forEach((t,i)=>{
let li=document.createElement("li")
li.innerHTML=`<span>${t.t}</span><button onclick="delTask(${i})">ğŸ—‘ï¸</button>`
tasksEl.appendChild(li)
})
}
function delTask(i){
tasks.splice(i,1)
saveAll()
}

/* MENU / COURSES */
function generateMenu(){
menu=[]
for(let i=0;i<7;i++)menu.push(recipes[Math.floor(Math.random()*recipes.length)])
saveAll()
}
function renderMenu(){
menuEl.innerHTML=""
menu.forEach(m=>menuEl.innerHTML+=`<li>${m}</li>`)
}
function generateCourses(){
courses=[...new Set(menu)]
saveAll()
}
function renderCourses(){
coursesEl.innerHTML=""
courses.forEach((c,i)=>{
let li=document.createElement("li")
li.innerHTML=`<span>${c}</span><button onclick="delCourse(${i})">ğŸ—‘ï¸</button>`
coursesEl.appendChild(li)
})
}
function delCourse(i){
courses.splice(i,1)
saveAll()
}

/* SETTINGS */
function changeLang(l){lang=l;saveAll()}
function changeTheme(t){theme=t;document.body.className=t;saveAll()}

/* CLOCK */
setInterval(()=>{
let d=new Date()
clock.textContent=d.toLocaleTimeString().slice(0,5)
},1000)

/* SAVE */
function saveAll(){
localStorage.lang=lang
localStorage.theme=theme
localStorage.tasks=JSON.stringify(tasks)
localStorage.menu=JSON.stringify(menu)
localStorage.courses=JSON.stringify(courses)
localStorage.chat=JSON.stringify(chatData)
localStorage.points=points
renderAll()
}
function renderAll(){
pointsEl.textContent=points
level.textContent=Math.floor(points/50)+1
renderTasks()
renderMenu()
renderCourses()
}

/* INIT */
const tasksEl=document.getElementById("tasks")
const menuEl=document.getElementById("menu")
const coursesEl=document.getElementById("courses")
const pointsEl=document.getElementById("points")

renderAll()
</script>

</body>
  </html>

<!DOCTYPE html>
<html lang="fr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Daily Productivity</title>
<style>
body { margin:0; font-family:sans-serif; overflow-x:hidden; color:#fff; transition:background 0.5s;}
header { display:flex; justify-content:space-between; align-items:center; padding:10px; background:rgba(0,0,0,0.2); position:sticky; top:0; z-index:100;}
header .menu { font-size:1.5em; cursor:pointer; }
header .title { font-weight:bold; }
section { padding:10px; }
select,input,button { margin:5px 0; padding:5px; border-radius:5px; border:none; }
.todo-item { display:flex; justify-content:space-between; padding:5px; margin:2px 0; background:rgba(255,255,255,0.1); border-radius:5px; cursor:pointer; }
.todo-item.done { text-decoration:line-through; opacity:0.5; }
.chat { margin-top:10px; border-top:1px solid rgba(255,255,255,0.3); padding-top:10px; max-height:300px; overflow-y:auto; }
.chat-messages { max-height:200px; overflow-y:auto; margin-bottom:5px; }
.chat-input { display:flex; }
.chat-input input { flex:1; }
.hidden { display:none; }
</style>
</head>
<body>

<header>
  <div class="menu" id="menuBtn">â˜°</div>
  <div class="title" id="pageTitle">Daily Productivity</div>
</header>

<section id="settings">
  <h2>ğŸ¨ ThÃ¨me</h2>
  <select id="themeSelect">
    <option value="green">Vert</option>
    <option value="blue">Bleu</option>
    <option value="red">Rouge</option>
  </select>

  <h2>ğŸŒ Langue</h2>
  <select id="langSelect">
    <option value="fr">FranÃ§ais</option>
    <option value="en">English</option>
    <option value="de">Deutsch</option>
  </select>
</section>

<section id="stats">
  <h2>ğŸ“Š Stats</h2>
  <p>ğŸ† Points : <span id="points">0</span></p>
  <p>ğŸ® Niveau : <span id="level">1</span></p>
  <p>ğŸ¥‡ Badge : <span id="badge">MotivÃ©</span></p>
</section>

<section id="todo">
  <h2>âœ… To-Do</h2>
  <input type="text" id="newTask" placeholder="Nouvelle tÃ¢che">
  <button id="addTask">Ajouter</button>
  <div id="tasks"></div>
</section>

<section id="meals">
  <h2>ğŸ§‘â€ğŸ³ IdÃ©es de repas</h2>
  <button id="generateMeal">GÃ©nÃ©rer un repas</button>
  <div id="mealList"></div>
</section>

<section id="shopping">
  <h2>ğŸ›’ Liste de courses</h2>
  <button id="generateShopping">GÃ©nÃ©rer la liste</button>
  <div id="shoppingList"></div>
</section>

<section class="chat hidden" id="chatSection">
  <h2>ğŸ¤– Chat IA</h2>
  <div class="chat-messages" id="chatMessages"></div>
  <div class="chat-input">
    <input type="text" id="chatInput" placeholder="Ã‰cris quelque chose">
    <button id="sendChat">Envoyer</button>
  </div>
</section>

<script>
/* ===== Menu et Chat ===== */
const menuBtn = document.getElementById('menuBtn');
const chatSection = document.getElementById('chatSection');
menuBtn.onclick = () => chatSection.classList.toggle('hidden');

/* ===== ThÃ¨mes ===== */
const themeSelect = document.getElementById('themeSelect');
themeSelect.onchange = () => {
  const color = themeSelect.value;
  if(color==='green') document.body.style.background='linear-gradient(to bottom, #d0f0c0, #006400)';
  if(color==='blue') document.body.style.background='linear-gradient(to bottom, #add8e6, #00008b)';
  if(color==='red') document.body.style.background='linear-gradient(to bottom, #ffc0cb, #8b0000)';
  localStorage.setItem('theme', color);
};
if(localStorage.getItem('theme')) { themeSelect.value = localStorage.getItem('theme'); themeSelect.onchange(); }

/* ===== Langues ===== */
const langSelect = document.getElementById('langSelect');
langSelect.onchange = () => localStorage.setItem('lang', langSelect.value);
if(localStorage.getItem('lang')) langSelect.value = localStorage.getItem('lang');

/* ===== Stats ===== */
let points=0, level=1, badge='MotivÃ©';
const pointsEl=document.getElementById('points'), levelEl=document.getElementById('level'), badgeEl=document.getElementById('badge');
function addPoints(n){ points+=n; pointsEl.textContent=points; if(points>=100){ level++; levelEl.textContent=level; points=0; pointsEl.textContent=points; } }

/* ===== To-Do ===== */
const addTaskBtn = document.getElementById('addTask');
const tasksDiv = document.getElementById('tasks');
let tasks = JSON.parse(localStorage.getItem('tasks')||'[]');
function renderTasks(){
  tasksDiv.innerHTML='';
  tasks.forEach((t,i)=>{
    let div=document.createElement('div');
    div.className='todo-item'+(t.done?' done':'');
    div.textContent=t.text;
    div.onclick=()=>{ t.done=!t.done; localStorage.setItem('tasks',JSON.stringify(tasks)); renderTasks(); addPoints(5); };
    div.oncontextmenu=(e)=>{ e.preventDefault(); tasks.splice(i,1); localStorage.setItem('tasks',JSON.stringify(tasks)); renderTasks(); };
    tasksDiv.appendChild(div);
  });
}
addTaskBtn.onclick=()=>{
  const val=document.getElementById('newTask').value.trim();
  if(val){ tasks.push({text:val,done:false}); localStorage.setItem('tasks',JSON.stringify(tasks)); renderTasks(); document.getElementById('newTask').value=''; addPoints(10); }
};
renderTasks();

/* ===== Repas et Courses ===== */
const meals = ['Pizza','PÃ¢tes','Salade','Omelette','Burger','Sushi','Steak','Soupe','Tacos','Curry'];
const shopping = ['Tomates','Fromage','Oeufs','Lait','Pain','Poulet','Riz','Poivrons','LÃ©gumes','Fruits'];
document.getElementById('generateMeal').onclick = () => {
  document.getElementById('mealList').textContent = meals[Math.floor(Math.random()*meals.length)];
};
document.getElementById('generateShopping').onclick = () => {
  document.getElementById('shoppingList').textContent = shopping.join(', ');
};

/* ===== Chat IA simulÃ©e ===== */
document.getElementById('sendChat').onclick = ()=>{
  const input=document.getElementById('chatInput').value;
  if(!input) return;
  const messagesDiv=document.getElementById('chatMessages');
  const userMsg=document.createElement('div'); userMsg.textContent='ğŸ§‘ '+input; messagesDiv.appendChild(userMsg);
  document.getElementById('chatInput').value='';
  const replies = ['Bonjour !','Oui, je comprends.','Super idÃ©e !','Je peux tâ€™aider !','IntÃ©ressant !','Dâ€™accord !','Essayons Ã§a !'];
  const aiMsg=document.createElement('div'); aiMsg.textContent='ğŸ¤– '+replies[Math.floor(Math.random()*replies.length)];
  messagesDiv.appendChild(aiMsg);
};
</script>

</body>
  </html>
